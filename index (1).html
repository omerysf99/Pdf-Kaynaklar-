<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern PDF Portalı</title>
    <style>
        /* --- CSS STİLLERİ --- */
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #2c3e50;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --accent-color: #e74c3c;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* İçerik Alanı */
        #main-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            padding-bottom: 90px; /* Navigasyon payı */
        }

        .tab-section {
            display: none; /* Varsayılan olarak gizli */
            animation: fadeIn 0.4s ease;
            max-width: 600px;
            margin: 0 auto;
        }

        .tab-section.active {
            display: block; /* Sadece aktif olanı göster */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ana Ekran */
        .hero {
            text-align: center;
            padding: 40px 10px;
        }

        .hero h1 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        /* PDF Listesi */
        .pdf-card {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .download-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Reklam Alanı */
        .ad-box {
            background: #eef2f3;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-top: 20px;
            border: 2px dashed #bdc3c7;
        }

        #watch-ad-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.2s;
        }

        #watch-ad-btn:active { transform: scale(0.95); }

        /* Profil Kartı */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            display: block;
            font-weight: bold;
        }

        /* Alt Navigasyon */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 70px;
            background: var(--card-bg);
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .nav-item {
            background: none;
            border: none;
            color: #7f8c8d;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .nav-item.active {
            color: var(--primary-color);
        }
    </style>
</head>
<body>

    <main id="main-content">
        <section id="home" class="tab-section active">
            <div class="hero">
                <h1>FAVORİ PDF</h1>
                <p>En kaliteli akademik ve teknik içeriklere hızlıca ulaşın. Bilgi paylaştıkça çoğalır.</p>
            </div>
        </section>

        <section id="pdfs" class="tab-section">
            <h2 style="text-align: center;">PDF Kütüphanesi</h2>
            <div id="pdf-list">
                <div class="pdf-card">
                    <span>Web Geliştirme Temelleri</span>
                    <button class="download-btn" onclick="tryDownload()">İndir</button>
                </div>
                <div class="pdf-card">
                    <span>JavaScript Veri Yapıları</span>
                    <button class="download-btn" onclick="tryDownload()">İndir</button>
                </div>
                <div class="pdf-card">
                    <span>Modern CSS Teknikleri</span>
                    <button class="download-btn" onclick="tryDownload()">İndir</button>
                </div>
            </div>

            <div class="ad-box">
                <p id="ad-info">Dosya indirebilmek için reklam izlemelisiniz.</p>
                <div id="ad-count-display">Kalan Reklam: <b>3</b></div>
                <button id="watch-ad-btn" onclick="simulateAdWatch()">Reklam İzle</button>
            </div>
        </section>

        <section id="profile" class="tab-section">
            <h2 style="text-align: center;">Kullanıcı Paneli</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-value" id="total-downloads">0</span>
                    İndirilen
                </div>
                <div class="stat-item" style="background: var(--secondary-color);">
                    <span class="stat-value" id="total-ads">0</span>
                    Reklam
                </div>
            </div>
        </section>
    </main>

    <nav class="bottom-nav">
        <button class="nav-item active" onclick="showTab('home', this)">Ana Ekran</button>
        <button class="nav-item" onclick="showTab('pdfs', this)">PDF'ler</button>
        <button class="nav-item" onclick="showTab('profile', this)">Profilim</button>
    </nav>

    <script>
        /* --- JAVASCRIPT MANTIĞI --- */

        // AYARLAR: Kaç reklam izlenmeli?
        const TARGET_ADS = 3; 

        // Verileri localStorage'dan çek veya varsayılan değerleri kullan
        let stats = {
            downloads: parseInt(localStorage.getItem('pdf_downloads')) || 0,
            ads: parseInt(localStorage.getItem('pdf_ads')) || 0
        };

        // Bu oturumda izlenen reklam sayısı
        let sessionAds = 0;

        // 1. SEKME GEÇİŞLERİ
        function showTab(tabId, element) {
            // Tüm bölümleri gizle
            document.querySelectorAll('.tab-section').forEach(section => {
                section.classList.remove('active');
            });
            // Seçilen bölümü göster
            document.getElementById(tabId).classList.add('active');

            // Navigasyon butonlarının rengini güncelle
            document.querySelectorAll('.nav-item').forEach(btn => {
                btn.classList.remove('active');
            });
            element.classList.add('active');

            // Profil sekmesine geçildiğinde verileri güncelle
            if(tabId === 'profile') updateStatsUI();
        }

        // 2. REKLAM İZLEME SİMÜLASYONU
        function simulateAdWatch() {
            if (sessionAds < TARGET_ADS) {
                sessionAds++;
                stats.ads++; // Toplam izleme sayısını artır
                
                saveData(); // Veriyi kaydet
                updateAdUI(); // Arayüzü güncelle
                
                alert("Reklam başarıyla izlendi!");
            } else {
                alert("Zaten indirme hakkınız var!");
            }
        }

        // 3. İNDİRME KONTROLÜ
        function tryDownload() {
            if (sessionAds >= TARGET_ADS) {
                alert("PDF indirme işlemi başlatıldı...");
                stats.downloads++;
                saveData();
                
                // İndirme sonrası reklam hakkını sıfırlamak istersen:
                // sessionAds = 0;
                // updateAdUI();
            } else {
                alert(`Hata: PDF indirmek için ${TARGET_ADS - sessionAds} reklam daha izlemelisiniz.`);
            }
        }

        // 4. VERİ KAYDETME VE ARAYÜZ GÜNCELLEME
        function saveData() {
            localStorage.setItem('pdf_downloads', stats.downloads);
            localStorage.setItem('pdf_ads', stats.ads);
        }

        function updateAdUI() {
            const adInfo = document.getElementById('ad-info');
            const adCount = document.getElementById('ad-count-display');
            
            if (sessionAds >= TARGET_ADS) {
                adInfo.innerText = "İndirme hakkı aktif!";
                adInfo.style.color = "green";
                adCount.innerHTML = "<b>Tüm reklamlar izlendi.</b>";
            } else {
                adInfo.innerText = "Dosya indirebilmek için reklam izlemelisiniz.";
                adCount.innerHTML = `Kalan Reklam: <b>${TARGET_ADS - sessionAds}</b>`;
            }
        }

        function updateStatsUI() {
            document.getElementById('total-downloads').innerText = stats.downloads;
            document.getElementById('total-ads').innerText = stats.ads;
        }

        // Sayfa ilk açıldığında UI ayarları
        updateAdUI();
    </script>
</body>
</html>
