<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube - Sinematik ƒ∞zleme</title>
    <style>
        :root {
            --bg: #0f0f0f;
            --surface: #1e1e1e;
            --surface-hover: #2a2a2a;
            --text: #ffffff;
            --secondary: #aaaaaa;
            --yt-red: #ff0000;
            --border: #333333;
        }

        body {
            font-family: "Roboto", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            overflow-x: hidden;
        }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; width: 100%; height: 56px;
            background: var(--bg); display: flex; justify-content: space-between;
            align-items: center; padding: 0 16px; z-index: 2000; box-sizing: border-box;
        }
        .search-box {
            display: flex; align-items: center; background: #121212;
            border: 1px solid #333; border-radius: 40px; padding: 0 16px; width: 40%;
        }
        .search-box input { background: transparent; border: none; color: white; padding: 8px; width: 100%; outline: none; }

        /* --- MAIN LAYOUT --- */
        .content-wrapper { display: flex; margin-top: 56px; }

        /* Sidebar (Ana Sayfa ƒ∞√ßin) */
        aside { width: 240px; height: calc(100vh - 56px); position: sticky; top: 56px; padding-top: 12px; }
        .nav-item { padding: 10px 24px; display: flex; align-items: center; gap: 20px; cursor: pointer; border-radius: 10px; margin: 0 10px; }
        .nav-item:hover { background: var(--surface-hover); }

        /* Ana Grid */
        main { flex: 1; padding: 24px; }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; row-gap: 30px; }

        /* --- Vƒ∞DEO ƒ∞ZLEME EKRANI (FULL PAGE OVERLAY) --- */
        #watchPage {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: var(--bg); z-index: 3000; display: none; overflow-y: auto;
            padding-top: 70px;
        }

        .watch-container {
            max-width: 1300px; margin: 0 auto; display: grid;
            grid-template-columns: 1fr 350px; gap: 24px; padding: 0 24px;
        }

        /* Sol Taraf: Video ve Detaylar */
        .player-section video { width: 100%; border-radius: 12px; background: #000; aspect-ratio: 16/9; }
        .video-info-box { margin-top: 15px; }
        .video-info-box h1 { font-size: 20px; margin: 0 0 10px 0; }
        .channel-row { display: flex; align-items: center; justify-content: space-between; margin-top: 15px; }
        .c-pfp { width: 40px; height: 40px; border-radius: 50%; background: #444; }
        .action-btns button { background: var(--surface-hover); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; margin-left: 8px; }

        /* Saƒü Taraf: √ñneriler ve Sƒ±radaki */
        .next-video-box { background: var(--surface); border-radius: 12px; padding: 12px; margin-bottom: 15px; }
        .rec-chips { display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px; }
        .chip { background: var(--surface-hover); border: none; color: white; padding: 6px 12px; border-radius: 8px; font-size: 12px; white-space: nowrap; cursor: pointer; }
        .chip.active { background: white; color: black; }

        .suggested-card { display: flex; gap: 8px; margin-bottom: 12px; cursor: pointer; }
        .suggested-thumb { width: 160px; aspect-ratio: 16/9; border-radius: 8px; background: #333; overflow: hidden; flex-shrink: 0; }
        .suggested-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .suggested-meta h4 { margin: 0; font-size: 14px; line-height: 1.2; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .suggested-meta p { font-size: 12px; color: var(--secondary); margin: 4px 0 0 0; }

        .back-btn { position: absolute; top: 15px; left: 15px; font-size: 24px; cursor: pointer; z-index: 3001; }

        /* Video Kartƒ± */
        .v-card { cursor: pointer; }
        .v-thumb { width: 100%; aspect-ratio: 16/9; border-radius: 12px; overflow: hidden; background: #222; }
        .v-thumb img { width: 100%; height: 100%; object-fit: cover; }

        @media (max-width: 1000px) {
            .watch-container { grid-template-columns: 1fr; }
            aside { display: none; }
        }
    </style>
</head>
<body>

<header>
    <div style="display:flex; align-items:center; gap:20px;">
        <span style="font-size:20px; cursor:pointer;">‚ò∞</span>
        <div style="font-weight:bold; font-size:20px;">YouTube<sup>TR</sup></div>
    </div>
    <div class="search-box">
        <input type="text" placeholder="Ara">
    </div>
    <div style="font-size:12px; color:var(--secondary)">ID: 8392479231</div>
</header>

<div class="content-wrapper">
    <aside id="mainSidebar">
        <div class="nav-item">üè† Ana Sayfa</div>
        <div class="nav-item">ü©≥ Shorts</div>
        <div class="nav-item">üì∫ Abonelikler</div>
        <hr style="border:0; border-top:1px solid #333; margin:15px 0;">
        <div style="padding:0 24px; font-weight:bold; margin-bottom:10px;">Abonelikler</div>
        <div class="nav-item">üî¥ AI REBORNN</div>
        <div class="nav-item">üî¥ Hasan Yayƒ±nda</div>
    </aside>

    <main>
        <div style="background:var(--surface); padding:20px; border-radius:15px; margin-bottom:24px; border:1px dashed #444;">
            <h3 style="margin-top:0">Video Y√ºkle</h3>
            <input type="file" id="vInp" accept="video/*">
            <input type="file" id="tInp" accept="image/*">
            <input type="text" id="vTitle" placeholder="Ba≈ülƒ±k Girin" style="background:#000; border:1px solid #333; color:#fff; padding:8px; border-radius:5px;">
            <button onclick="uploadVideo()" style="background:white; color:black; border:none; padding:8px 15px; border-radius:20px; font-weight:bold; cursor:pointer;">Y√úKLE</button>
        </div>
        <div class="video-grid" id="mainGrid"></div>
    </main>
</div>

<div id="watchPage">
    <div class="back-btn" onclick="closeWatch()">‚Üê</div>
    <div class="watch-container">
        <div class="player-section">
            <video id="pVid" controls autoplay></video>
            <div class="video-info-box">
                <h1 id="pTitle">Video Ba≈ülƒ±ƒüƒ±</h1>
                <div class="channel-row">
                    <div style="display:flex; align-items:center; gap:12px;">
                        <div class="c-pfp"></div>
                        <div>
                            <div style="font-weight:bold;">Admin Channel</div>
                            <div style="font-size:12px; color:var(--secondary)">1,3 Mn abone</div>
                        </div>
                        <button style="background:white; color:black; border:none; padding:8px 16px; border-radius:20px; font-weight:bold; margin-left:15px; cursor:pointer;">Abone Ol</button>
                    </div>
                    <div class="action-btns">
                        <button>üëç 61 B</button>
                        <button>‚Ü™ Payla≈ü</button>
                        <button>‚¨á ƒ∞ndir</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="sidebar-section">
            <div class="next-video-box">
                <div style="font-size:14px; margin-bottom:8px;">Sonraki: BLOK3 - G√úZEL KIZIM</div>
                <div style="font-size:12px; color:var(--secondary)">Mix - NASTEISHA VE ERA7CAPONE...</div>
            </div>
            
            <div class="rec-chips">
                <button class="chip active">T√ºm√º</button>
                <button class="chip">Seriden videolar</button>
                <button class="chip">Blok3 adlƒ±...</button>
            </div>

            <div id="suggestedList">
                </div>
        </div>
    </div>
</div>

<script>
    const DB_NAME = 'YT_Cinema_8392479231';
    let db;

    // IndexedDB Kurulum
    const request = indexedDB.open(DB_NAME, 1);
    request.onupgradeneeded = (e) => {
        db = e.target.result;
        db.createObjectStore('videos', { keyPath: 'id' });
    };
    request.onsuccess = (e) => {
        db = e.target.result;
        renderAll();
    };

    async function uploadVideo() {
        const vFile = document.getElementById('vInp').files[0];
        const tFile = document.getElementById('tInp').files[0];
        const title = document.getElementById('vTitle').value;
        if(!vFile || !tFile || !title) return alert("Eksik alan!");

        const data = { id: crypto.randomUUID(), title, vFile, tFile, ts: Date.now() };
        const tx = db.transaction('videos', 'readwrite');
        tx.objectStore('videos').add(data);
        tx.oncomplete = () => renderAll();
    }

    let activeURLs = [];
    function renderAll() {
        const grid = document.getElementById('mainGrid');
        const sList = document.getElementById('suggestedList');
        grid.innerHTML = ''; sList.innerHTML = '';
        activeURLs.forEach(u => URL.revokeObjectURL(u));
        activeURLs = [];

        const tx = db.transaction('videos', 'readonly');
        tx.objectStore('videos').getAll().onsuccess = (e) => {
            const vids = e.target.result;
            vids.forEach(vid => {
                const tU = URL.createObjectURL(vid.tFile);
                const vU = URL.createObjectURL(vid.vFile);
                activeURLs.push(tU, vU);

                // Ana Sayfa Kartƒ±
                const card = document.createElement('div');
                card.className = 'v-card';
                card.innerHTML = `<div class="v-thumb"><img src="${tU}"></div><h4 style="margin:10px 0 5px;">${vid.title}</h4>`;
                card.onclick = () => openWatch(vU, vid.title);
                grid.appendChild(card);

                // Saƒü √ñneri Kartƒ± (ƒ∞zleme Sayfasƒ± ƒ∞√ßin)
                const sCard = document.createElement('div');
                sCard.className = 'suggested-card';
                sCard.innerHTML = `<div class="suggested-thumb"><img src="${tU}"></div><div class="suggested-meta"><h4>${vid.title}</h4><p>Admin ‚Ä¢ 54 B izlenme</p></div>`;
                sCard.onclick = () => openWatch(vU, vid.title);
                sList.appendChild(sCard);
            });
        };
    }

    function openWatch(url, title) {
        document.getElementById('pVid').src = url;
        document.getElementById('pTitle').textContent = title;
        document.getElementById('watchPage').style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function closeWatch() {
        document.getElementById('watchPage').style.display = 'none';
        document.getElementById('pVid').pause();
        document.body.style.overflow = 'auto';
    }
</script>
</body>
</html>
