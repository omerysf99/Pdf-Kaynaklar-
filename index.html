<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yaytsogram Evolution: Local Edition</title>
    <style>
        :root {
            --primary: #0088cc;
            --bronze: linear-gradient(135deg, #cd7f32, #a0522d);
            --silver: linear-gradient(135deg, #c0c0c0, #708090);
            --gold: linear-gradient(135deg, #ffd700, #daa520);
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: white; height: 100vh; display: flex; justify-content: center; overflow: hidden; }

        .app-shell { width: 100%; max-width: 480px; background: radial-gradient(circle at top, #2c3e50, #000); display: flex; flex-direction: column; position: relative; }

        header { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .stat-pill { background: var(--glass); padding: 8px 15px; border-radius: 50px; font-weight: 800; font-size: 0.9rem; border: 1px solid rgba(255,255,255,0.1); }
        
        .content { flex: 1; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .tab-panel { display: none; flex-direction: column; align-items: center; width: 100%; animation: fadeIn 0.3s; }
        .tab-panel.active { display: flex; }

        /* --- YUMURTA TASARIMI --- */
        .lvl-name { margin-bottom: 10px; font-weight: 900; letter-spacing: 1px; text-transform: uppercase; font-size: 1.2rem; }
        .egg-container { width: 260px; height: 350px; position: relative; cursor: pointer; transition: 0.1s; display: flex; align-items: center; justify-content: center; }
        .egg-container:active { transform: scale(0.92); }
        
        .egg { 
            width: 100%; height: 100%; border-radius: 50% 50% 50% 50% / 65% 65% 35% 35%;
            position: relative; transition: 0.8s ease; box-shadow: 0 40px 70px rgba(0,0,0,0.6);
            border: 4px solid rgba(255,255,255,0.1);
        }
        
        .lvl1-style { background: var(--bronze); }
        .lvl2-style { background: var(--silver); }
        .lvl3-style { background: var(--gold); }

        .egg-shine { position: absolute; top: 15%; left: 15%; width: 30%; height: 20%; background: rgba(255,255,255,0.3); border-radius: 50%; filter: blur(10px); }

        /* --- SCORE & PROGRESS --- */
        .score-display { font-size: 3.2rem; font-weight: 900; margin-top: 15px; }
        .target-display { font-size: 0.85rem; opacity: 0.6; margin-bottom: 10px; font-weight: bold; }
        .prog-bg { width: 85%; height: 10px; background: #222; border-radius: 10px; overflow: hidden; border: 1px solid #333; }
        .prog-fill { height: 100%; width: 0%; background: var(--primary); transition: 0.2s; box-shadow: 0 0 15px var(--primary); }

        /* --- OVERLAY (MODAL) --- */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; z-index: 10000; padding: 20px; }
        .reward-card { background: white; color: #222; padding: 30px; border-radius: 30px; text-align: center; width: 100%; max-width: 350px; box-shadow: 0 0 40px var(--primary); }

        /* --- NAV --- */
        nav { background: #111; display: flex; padding: 10px 5px 35px; border-top: 1px solid #222; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; color: #555; font-size: 0.7rem; font-weight: 700; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.5rem; margin-bottom: 4px; }

        .btn-action { width: 100%; background: var(--primary); color: white; border: none; padding: 16px; border-radius: 15px; font-weight: 900; cursor: pointer; margin-top: 15px; }
        .tap-anim { position: fixed; color: #fff; font-size: 2.5rem; font-weight: 900; pointer-events: none; animation: tapFly 0.8s forwards; z-index: 999; text-shadow: 0 0 10px #0088cc; }
        @keyframes tapFly { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-130px); opacity: 0; } }
    </style>
</head>
<body>

<div class="overlay" id="rewardOverlay">
    <div class="reward-card">
        <h1 id="rewardIcon" style="font-size: 4rem;">üéÅ</h1>
        <h2 id="rewardTitle">TEBRƒ∞KLER!</h2>
        <p id="rewardDesc">Seviye √∂d√ºl√ºn√º kazandƒ±n:</p>
        <div id="rewardVal" style="font-size: 2.8rem; font-weight: 900; color: var(--primary); margin: 20px 0;">0.00 TON</div>
        <button id="nextLvlBtn" class="btn-action">SONRAKƒ∞ SEVƒ∞YEYE GE√á</button>
    </div>
</div>

<div class="app-shell">
    <header>
        <div class="stat-pill" id="lvlBadge">LEVEL 1</div>
        <div class="stat-pill" id="totalBalance" style="color: #00ccff; border-color: #00ccff;">0.00 TON</div>
    </header>

    <div class="content">
        <div id="mine-tab" class="tab-panel active">
            <div class="lvl-name" id="lvlName">BRONZ YUMURTA</div>
            <div class="egg-container" id="eggBtn">
                <div class="egg lvl1-style" id="eggVisual"><div class="egg-shine"></div></div>
            </div>
            <div class="score-display" id="score">0</div>
            <div class="target-display" id="targetLabel">HEDEF: 15,000,000</div>
            <div class="prog-bg"><div class="prog-fill" id="progFill"></div></div>
        </div>

        <div id="wallet-tab" class="tab-panel">
            <h2 style="margin-bottom:20px;">C√ºzdanƒ±m</h2>
            <div style="background:var(--glass); padding:30px; border-radius:20px; width:100%; text-align:center;">
                <p style="opacity:0.6;">Toplam Bakiye</p>
                <h1 id="walletDisplay" style="font-size:3rem; color:var(--primary);">0.00 TON</h1>
                <button class="btn-action" onclick="alert('Minimum √ßekim tutarƒ± 10 TONdur.')">PARA √áEK</button>
            </div>
        </div>
    </div>

    <nav>
        <div class="nav-item active" onclick="switchTab('mine', this)"><i>‚õèÔ∏è</i><span>Kaz</span></div>
        <div class="nav-item" onclick="switchTab('wallet', this)"><i>üëõ</i><span>C√ºzdan</span></div>
    </nav>
</div>

<script>
    // --- VERƒ∞ Y√ñNETƒ∞Mƒ∞ (LOKAL) ---
    let lvl = parseInt(localStorage.getItem('yaytso_lvl_idx')) || 1;
    let clicks = parseInt(localStorage.getItem('yaytso_lvl_clicks')) || 0;
    let ton = parseFloat(localStorage.getItem('yaytso_ton_total')) || 0;

    const configs = {
        1: { name: "BRONZ YUMURTA", target: 15000000, class: "lvl1-style", color: "#cd7f32", icon: "üéÅ" },
        2: { name: "G√úM√ú≈û YUMURTA", target: 45000000, class: "lvl2-style", color: "#c0c0c0", icon: "ü•à" },
        3: { name: "ALTIN YUMURTA", target: 71000000, class: "lvl3-style", icon: "üèÜ" }
    };

    function updateUI() {
        const c = configs[lvl];
        document.getElementById('lvlName').innerText = c.name;
        document.getElementById('lvlName').style.color = c.color;
        document.getElementById('lvlBadge').innerText = "LEVEL " + lvl;
        document.getElementById('score').innerText = clicks.toLocaleString();
        document.getElementById('targetLabel').innerText = "HEDEF: " + c.target.toLocaleString();
        document.getElementById('totalBalance').innerText = ton.toFixed(2) + " TON";
        document.getElementById('walletDisplay').innerText = ton.toFixed(2) + " TON";
        
        document.getElementById('eggVisual').className = "egg " + c.class;
        
        const prog = (clicks / c.target) * 100;
        document.getElementById('progFill').style.width = Math.min(prog, 100) + "%";

        // Kaydet
        localStorage.setItem('yaytso_lvl_idx', lvl);
        localStorage.setItem('yaytso_lvl_clicks', clicks);
        localStorage.setItem('yaytso_ton_total', ton);
    }

    function handleTap(e) {
        if (lvl > 3) return;
        const c = configs[lvl];
        
        if (clicks < c.target) {
            clicks += 1; // Normal hƒ±z (+1)
            
            if (clicks >= c.target) {
                clicks = c.target;
                triggerReward();
            }
            updateUI();
            showTapEffect(e);
            if(navigator.vibrate) navigator.vibrate(10);
        }
    }

    function triggerReward() {
        const c = configs[lvl];
        let win = 0;
        let roll = Math.random() * 100;

        if (roll < 80) win = Math.random() * (5 - 0.1) + 0.1;
        else win = Math.random() * (20 - 5) + 5;

        ton += win;
        
        document.getElementById('rewardIcon').innerText = c.icon;
        document.getElementById('rewardVal').innerText = win.toFixed(2) + " TON";
        document.getElementById('rewardOverlay').style.display = 'flex';

        const btn = document.getElementById('nextLvlBtn');
        if (lvl < 3) {
            btn.innerText = "SONRAKƒ∞ YUMURTAYA GE√á (PUAN SIFIRLANIR)";
            btn.onclick = () => {
                lvl++;
                clicks = 0; // Seviye atlayƒ±nca puan sƒ±fƒ±rlanƒ±r
                document.getElementById('rewardOverlay').style.display = 'none';
                updateUI();
            };
        } else {
            btn.innerText = "OYUN Bƒ∞TTƒ∞ - T√úM √ñD√úLLER SENƒ∞N!";
            btn.onclick = () => location.reload();
        }
    }

    function showTapEffect(e) {
        const x = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
        const y = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
        const d = document.createElement('div');
        d.className = 'tap-anim';
        d.innerText = "+1";
        d.style.left = (x - 15) + "px";
        d.style.top = (y - 40) + "px";
        document.body.appendChild(d);
        setTimeout(() => d.remove(), 800);
    }

    function switchTab(id, el) {
        document.querySelectorAll('.tab-panel').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id + '-tab').classList.add('active');
        el.classList.add('active');
    }

    document.getElementById('eggBtn').addEventListener('touchstart', (e) => { e.preventDefault(); handleTap(e); });
    document.getElementById('eggBtn').addEventListener('mousedown', handleTap);

    updateUI();
</script>
</body>
</html>
