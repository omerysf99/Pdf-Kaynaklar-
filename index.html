<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SpyderCoin - Blue Fan Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        :root {
            --primary-blue: #00a3ff;
            --bg-dark: #0a0f18;
            --card-bg: #141c2b;
            --text-main: #ffffff;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; margin: 0; padding: 0; }
        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* HEADER */
        header { padding: 30px 20px; text-align: center; }
        .balance-title { font-size: 13px; color: #8a96a3; letter-spacing: 1px; margin-bottom: 5px; }
        .balance-value { font-size: 42px; font-weight: 800; }

        /* MAVÄ° FAN TASARIMI (GÃ¶rseldeki gibi) */
        .fan-container {
            position: relative;
            width: 220px;
            height: 220px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fan-blade-wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            animation: rotateFan 3s linear infinite;
        }

        .blade {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 40px;
            height: 90px;
            background: linear-gradient(to bottom, var(--primary-blue), #0055ff);
            border-radius: 50% 50% 10% 10%;
            transform-origin: bottom center;
            opacity: 0.8;
            box-shadow: 0 0 15px var(--primary-blue);
        }

        /* 12 kanatlÄ± fan yapÄ±sÄ± */
        .blade:nth-child(1)  { transform: translate(-50%, -100%) rotate(0deg); }
        .blade:nth-child(2)  { transform: translate(-50%, -100%) rotate(30deg); }
        .blade:nth-child(3)  { transform: translate(-50%, -100%) rotate(60deg); }
        .blade:nth-child(4)  { transform: translate(-50%, -100%) rotate(90deg); }
        .blade:nth-child(5)  { transform: translate(-50%, -100%) rotate(120deg); }
        .blade:nth-child(6)  { transform: translate(-50%, -100%) rotate(150deg); }
        .blade:nth-child(7)  { transform: translate(-50%, -100%) rotate(180deg); }
        .blade:nth-child(8)  { transform: translate(-50%, -100%) rotate(210deg); }
        .blade:nth-child(9)  { transform: translate(-50%, -100%) rotate(240deg); }
        .blade:nth-child(10) { transform: translate(-50%, -100%) rotate(270deg); }
        .blade:nth-child(11) { transform: translate(-50%, -100%) rotate(300deg); }
        .blade:nth-child(12) { transform: translate(-50%, -100%) rotate(330deg); }

        .fan-center {
            width: 60px;
            height: 60px;
            background: #1a2436;
            border: 4px solid var(--primary-blue);
            border-radius: 50%;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(0, 163, 255, 0.5);
        }

        @keyframes rotateFan {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* POOL & BUTTONS */
        .mining-info { text-align: center; margin-top: 10px; }
        .pool-amount { font-size: 28px; font-weight: bold; color: var(--primary-blue); }
        .ghs { font-size: 14px; color: #ffcc00; margin-top: 5px; }

        .btn-group {
            display: flex;
            gap: 15px;
            padding: 20px;
            justify-content: center;
        }

        .btn {
            flex: 1;
            max-width: 160px;
            padding: 15px;
            border-radius: 12px;
            border: none;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-claim { background-color: var(--primary-blue); color: white; }
        .btn-boost { background-color: #2a3547; color: white; }

        /* NAV */
        .nav-bar {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 80px;
            background: #111823;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid #1e2a3e;
        }
        .nav-item { color: #5c6a7e; text-align: center; font-size: 11px; }
        .nav-item.active { color: var(--primary-blue); }

        #ad-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>

    <header>
        <div class="balance-title">TOPLAM BAKÄ°YE</div>
        <div class="balance-value">$<span id="main-balance">0.00000</span></div>
    </header>

    <main>
        <div class="fan-container">
            <div class="fan-blade-wrapper">
                <div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div>
            </div>
            <div class="fan-center">ğŸ’</div>
        </div>

        <div class="mining-info">
            <div id="pool-balance" class="pool-amount">0.000000 USDT</div>
            <div class="ghs">2.03 GH/s âš¡</div>
        </div>

        <div class="btn-group">
            <button class="btn btn-claim" onclick="startClaimProcess()">ğŸ’° Claim</button>
            <button class="btn btn-boost">ğŸš€ Boost</button>
        </div>
    </main>

    <div id="ad-modal">
        <h2 style="color: var(--primary-blue);">Claim HazÄ±rlanÄ±yor...</h2>
        <p style="margin: 20px 0;">HasÄ±latÄ± almak iÃ§in reklam izlemeniz gerekiyor.</p>
        <div id="ad-status" style="font-size: 20px; font-weight: bold;">Kalan Reklam: 0/0</div>
        <p style="font-size: 12px; color: #777; margin-top: 15px;">(ReklamÄ± izleyip geri dÃ¶nÃ¼n)</p>
    </div>

    <nav class="nav-bar">
        <div class="nav-item"><div>ğŸ¦</div>Wallet</div>
        <div class="nav-item"><div>ğŸ‘¥</div>Friends</div>
        <div class="nav-item active"><div>ğŸŒ€</div>Home</div>
        <div class="nav-item"><div>ğŸ¯</div>Missions</div>
        <div class="nav-item"><div>âš™ï¸</div>More</div>
    </nav>

    <script>
        // Firebase ve TWA AyarlarÄ±
        const firebaseConfig = { apiKey: "...", projectId: "...", appId: "..." }; // BurayÄ± kendi bilgilerinizle doldurun
        // firebase.initializeApp(firebaseConfig);
        // const db = firebase.firestore();

        const TWA = window.Telegram.WebApp;
        let pData = { money: 0.0, pool: 0.0 };
        let adsNeeded = 0;
        let adsWatched = 0;

        // Mining HÄ±zÄ±
        setInterval(() => {
            pData.pool += 0.000001; 
            document.getElementById('pool-balance').innerText = pData.pool.toFixed(6) + " USDT";
        }, 1000);

        function startClaimProcess() {
            if(pData.pool < 0.0001) {
                TWA.showAlert("Havuz Ã§ok boÅŸ, biraz biriksin!");
                return;
            }

            // REKLAM HESAPLAMA MANTIÄI
            // 0.0005 iÃ§in 1 reklam, 0.0015 iÃ§in 3 reklam vb.
            adsNeeded = Math.ceil(pData.pool / 0.0005);
            adsWatched = 0;

            document.getElementById('ad-modal').style.display = 'flex';
            processNextAd();
        }

        function processNextAd() {
            if(adsWatched < adsNeeded) {
                document.getElementById('ad-status').innerText = `Ä°zlenen: ${adsWatched}/${adsNeeded}`;
                
                // Reklam Linki (Senin Adexora linkin)
                setTimeout(() => {
                    window.open("https://adexora.com/dl/your_id", "_blank");
                    adsWatched++;
                    
                    // KullanÄ±cÄ± geri dÃ¶ndÃ¼ÄŸÃ¼nde devam etmesi iÃ§in kÄ±sa bekleme
                    TWA.showAlert("Reklam aÃ§Ä±ldÄ±. Ä°zleyip dÃ¶ndÃ¼ÄŸÃ¼nÃ¼zde iÅŸleme devam edilecek.");
                }, 1000);
            } else {
                completeClaim();
            }
        }

        // KullanÄ±cÄ± sayfaya her dÃ¶ndÃ¼ÄŸÃ¼nde reklam durumunu kontrol et
        window.onfocus = function() {
            if(document.getElementById('ad-modal').style.display === 'flex') {
                if(adsWatched < adsNeeded) {
                    processNextAd();
                } else {
                    completeClaim();
                }
            }
        };

        function completeClaim() {
            pData.money += pData.pool;
            pData.pool = 0;
            document.getElementById('main-balance').innerText = pData.money.toFixed(5);
            document.getElementById('ad-modal').style.display = 'none';
            TWA.showAlert("Tebrikler! HasÄ±lat baÅŸarÄ±yla cÃ¼zdana aktarÄ±ldÄ±.");
        }
    </script>
</body>
</html>
