<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Nano Banana Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; }
        .panel { background: #0a0a0a; border: 1px solid #1a1a1a; border-radius: 20px; }
        .input-style { background: #000; border: 1px solid #333; border-radius: 12px; color: #fff; outline: none; transition: 0.3s; }
        .input-style:focus { border-color: #3b82f6; }
        .btn-gen { background: #3b82f6; color: #fff; font-weight: bold; border-radius: 12px; transition: 0.3s; }
        .btn-gen:hover { background: #2563eb; transform: scale(1.01); }
        .btn-gen:disabled { background: #1a1a1a; color: #444; }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="max-w-xl w-full space-y-4">
        <div class="flex justify-between items-center text-[10px] text-gray-600 px-2 uppercase tracking-widest">
            <span>Admin: 8392479231</span>
            <span>Master Key Active</span>
        </div>

        <div class="panel p-6 space-y-5">
            <h1 class="text-xl font-bold border-b border-zinc-800 pb-3">Görsel Oluşturucu</h1>
            
            <div class="space-y-4">
                <input type="password" id="mKey" placeholder="Master Key (0bc37a...)" 
                    class="w-full p-3 input-style text-xs font-mono">
                
                <textarea id="pInp" placeholder="Görsel tarifini yazın..." 
                    class="w-full p-4 h-32 input-style resize-none text-sm"></textarea>
                
                <button onclick="run()" id="runBtn" class="w-full py-4 btn-gen">ÜRETİMİ BAŞLAT</button>
            </div>
        </div>

        <div id="res" class="hidden panel p-4 overflow-hidden">
            <img id="img" src="" class="w-full rounded-lg shadow-2xl">
            <div class="mt-4 flex justify-between items-center px-1">
                <span class="text-[10px] text-zinc-500 font-mono">HASH: 0bc37a810b96...</span>
                <button onclick="save()" class="text-blue-500 text-xs font-bold">İNDİR</button>
            </div>
        </div>
    </div>

    <script>
        const AUTH = {
            API: "AIzaSyC1pUJc7AAYA-jqp3wY16F_fOFONoUfMyE",
            SESSION: "240f67bd9aabb6087253060bd4251228",
            MASTER: "0bc37a810b966c12d50d38c5c85b0d82"
        };

        async function run() {
            const m = document.getElementById('mKey').value;
            const p = document.getElementById('pInp').value;
            const b = document.getElementById('runBtn');
            const r = document.getElementById('res');
            const i = document.getElementById('img');

            if(m !== AUTH.MASTER) return alert("Hatalı Master Key!");
            if(!p) return alert("Prompt girin!");

            b.disabled = true;
            b.innerText = "İŞLENİYOR...";
            r.classList.add('hidden');

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${AUTH.API}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Generate high resolution image: ${p}` }] }]
                    })
                });

                const data = await response.json();
                const base64 = data?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;

                if(base64) {
                    i.src = `data:image/png;base64,${base64}`;
                    r.classList.remove('hidden');
                } else {
                    alert("API görsel verisi döndürmedi. Modeli veya yetkileri kontrol edin.");
                }
            } catch (err) {
                alert("Hata: " + err.message);
            } finally {
                b.disabled = false;
                b.innerText = "ÜRETİMİ BAŞLAT";
            }
        }

        function save() {
            const link = document.createElement('a');
            link.href = document.getElementById('img').src;
            link.download = `banana-output.png`;
            link.click();
        }
    </script>
</body>
</html>
