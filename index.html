<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Roblox Bacon Fixed</title>
<style>
body { margin:0; overflow:hidden; background:#87ceeb; }
#ui{
  position:fixed; top:10px; left:10px;
  color:white; font-family:Arial;
  background:rgba(0,0,0,.6);
  padding:10px; border-radius:8px;
}
#cross{
  position:fixed; top:50%; left:50%;
  width:8px; height:8px; margin:-4px;
  border:2px solid white; border-radius:50%;
}
</style>
</head>
<body>

<div id="ui">
<b>Roblox Bacon</b><br>
W: Ä°leri (DOÄžRU)<br>
S: Geri<br>
A/D: Yan<br>
Space: ZÄ±pla
</div>
<div id="cross"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

<script>
/* SAHNE */
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x87ceeb);

const camera = new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

/* IÅžIK */
scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));
const sun = new THREE.DirectionalLight(0xffffff,0.8);
sun.position.set(20,30,10);
scene.add(sun);

/* MAP */
function block(x,y,z,w,h,d,c){
  const m = new THREE.Mesh(
    new THREE.BoxGeometry(w,h,d),
    new THREE.MeshStandardMaterial({color:c})
  );
  m.position.set(x,y,z);
  scene.add(m);
}

/* Zemin */
block(0,-1,0,300,2,300,0x55aa55);

/* Spawn */
block(0,0,0,8,1,8,0xaaaaaa);

/* Parkur */
block(10,2,-10,6,1,6,0x888888);
block(18,4,-18,6,1,6,0x888888);
block(26,6,-26,6,1,6,0x888888);

/* Rampa */
block(-10,1,-15,8,2,12,0x777777);

/* Duvar */
block(-20,5,0,2,10,40,0x444444);

/* Kule */
block(40,5,-40,8,10,8,0x999999);

/* BACON KARAKTER */
const player = new THREE.Group();
scene.add(player);

function part(w,h,d,color,x,y,z){
  const p = new THREE.Mesh(
    new THREE.BoxGeometry(w,h,d),
    new THREE.MeshStandardMaterial({color})
  );
  p.position.set(x,y,z);
  return p;
}

/* GÃ¶vde */
const torso = part(1.6,2.4,0.9,0x2a66ff,0,2.2,0);
/* Boyun */
const neck  = part(0.4,0.3,0.4,0xffd1a4,0,3.2,0);
/* Kafa */
const head  = part(1.3,1.3,1.3,0xffd1a4,0,4.1,0);

/* Kollar */
const la = part(0.6,2.2,0.6,0x2a66ff,-1.3,2.2,0);
const ra = part(0.6,2.2,0.6,0x2a66ff, 1.3,2.2,0);

/* Bacaklar */
const ll = part(0.7,2.4,0.7,0x1c2f8f,-0.45,0.8,0);
const rl = part(0.7,2.4,0.7,0x1c2f8f, 0.45,0.8,0);

/* Bacon saÃ§ (katmanlÄ±) */
const hair1 = part(1.4,0.4,1.4,0xff7a18,0,4.9,0);
const hair2 = part(1.2,0.3,1.2,0xff8c2a,0,5.2,0);

player.add(torso,neck,head,la,ra,ll,rl,hair1,hair2);

/* KONTROLLER */
let keys = {};
let velY = 0;
let canJump = false;
let yaw = 0;
let walk = 0;

document.addEventListener("keydown",e=>keys[e.code]=true);
document.addEventListener("keyup",e=>keys[e.code]=false);

document.body.addEventListener("click",()=>document.body.requestPointerLock());
document.addEventListener("mousemove",e=>{
  if(document.pointerLockElement){
    yaw -= e.movementX * 0.002;
  }
});

/* DÃ–NGÃœ */
function animate(){
  requestAnimationFrame(animate);

  let speed = 0.2;
  let forward = 0;
  let strafe = 0;
  let moving = false;

  if(keys.KeyW){ forward = -speed; moving=true; }
  if(keys.KeyS){ forward =  speed; moving=true; }
  if(keys.KeyA){ strafe  = -speed; moving=true; }
  if(keys.KeyD){ strafe  =  speed; moving=true; }

  const sin = Math.sin(yaw);
  const cos = Math.cos(yaw);

  /* ðŸ”¥ DOÄžRU ROBLOX HAREKETÄ° */
  player.position.x += forward * sin + strafe * cos;
  player.position.z += forward * cos - strafe * sin;

  /* YÃ¶n */
  player.rotation.y = yaw;

  /* YerÃ§ekimi */
  velY -= 0.025;
  player.position.y += velY;

  if(player.position.y <= 0){
    player.position.y = 0;
    velY = 0;
    canJump = true;
  }

  if(keys.Space && canJump){
    velY = 0.42;
    canJump = false;
  }

  /* YÃ¼rÃ¼me animasyonu */
  if(moving){
    walk += 0.18;
    la.rotation.x = Math.sin(walk)*0.7;
    ra.rotation.x = -Math.sin(walk)*0.7;
    ll.rotation.x = -Math.sin(walk)*0.7;
    rl.rotation.x = Math.sin(walk)*0.7;
  }else{
    la.rotation.x = ra.rotation.x = 0;
    ll.rotation.x = rl.rotation.x = 0;
  }

  /* Kamera */
  camera.position.set(
    player.position.x + Math.sin(yaw)*7,
    player.position.y + 4.5,
    player.position.z + Math.cos(yaw)*7
  );
  camera.lookAt(
    player.position.x,
    player.position.y + 2.5,
    player.position.z
  );

  renderer.render(scene,camera);
}
animate();

/* Resize */
addEventListener("resize",()=>{
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>
