<!DOCTYPE html>
<html lang="tr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexTube | Video & Thumbnail Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0f0f0f; color: white; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
    </style>
</head>
<body class="overflow-hidden">

    <header class="h-14 fixed top-0 w-full bg-[#0f0f0f] border-b border-white/10 flex items-center justify-between px-4 z-50">
        <div class="flex items-center gap-4">
            <button class="p-2 hover:bg-white/10 rounded-full"><i data-lucide="menu"></i></button>
            <div class="flex items-center gap-1 cursor-pointer" onclick="app.showPage('home')">
                <div class="bg-red-600 p-1 rounded-lg"><i data-lucide="play" class="fill-white text-white w-5 h-5"></i></div>
                <span class="text-xl font-bold tracking-tighter">NexTube</span>
            </div>
        </div>

        <div class="hidden md:flex flex-1 max-w-xl mx-10">
            <div class="flex w-full">
                <input type="text" placeholder="Ara" class="w-full bg-[#121212] border border-white/10 rounded-l-full px-5 py-2 outline-none focus:border-blue-500">
                <button class="bg-white/10 px-5 border border-l-0 border-white/10 rounded-r-full hover:bg-white/20"><i data-lucide="search" class="w-5 h-5"></i></button>
            </div>
        </div>

        <div class="flex items-center gap-3">
            <button onclick="app.toggleModal(true)" class="bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full flex items-center gap-2 text-sm font-medium">
                <i data-lucide="upload-cloud" class="w-5 h-5"></i> Yükle
            </button>
            <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-purple-600 to-blue-500 border border-white/20 cursor-pointer" title="Admin: 8392479231"></div>
        </div>
    </header>

    <div class="flex pt-14 h-screen">
        <nav class="w-64 bg-[#0f0f0f] hidden lg:flex flex-col p-3 border-r border-white/5">
            <div class="space-y-1">
                <button onclick="app.showPage('home')" class="w-full flex items-center gap-5 p-3 bg-white/10 rounded-xl"><i data-lucide="home"></i> Ana Sayfa</button>
                <button class="w-full flex items-center gap-5 p-3 hover:bg-white/5 rounded-xl"><i data-lucide="zap"></i> Shorts</button>
                <button class="w-full flex items-center gap-5 p-3 hover:bg-white/5 rounded-xl"><i data-lucide="user-square-2"></i> Abonelikler</button>
            </div>
            <hr class="my-4 border-white/10">
            <div class="px-3 text-xs font-bold text-gray-500 mb-2 uppercase">Admin Paneli</div>
            <div class="px-3 py-2 bg-blue-600/10 border border-blue-500/20 rounded-xl text-[11px] text-blue-400">
                Aktif Oturum: 8392479231
            </div>
        </nav>

        <main class="flex-1 overflow-y-auto custom-scrollbar p-6">
            
            <section id="page-home">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4" id="video-grid">
                    </div>
            </section>

            <section id="page-watch" class="hidden">
                <div class="max-w-[1200px] mx-auto">
                    <div class="aspect-video bg-black rounded-2xl overflow-hidden shadow-2xl mb-4">
                        <video id="main-player" controls autoplay class="w-full h-full"></video>
                    </div>
                    <h1 id="watch-title" class="text-2xl font-bold mb-2">Video Başlığı</h1>
                    <div class="flex items-center gap-4 py-4 border-b border-white/10">
                        <div class="w-12 h-12 rounded-full bg-blue-600"></div>
                        <div class="flex-1">
                            <p class="font-bold">NexTube Creator</p>
                            <p class="text-xs text-gray-400">1.2 Mn Abone</p>
                        </div>
                        <button class="bg-white text-black px-6 py-2 rounded-full font-bold hover:bg-gray-200">Abone Ol</button>
                    </div>
                    <div class="mt-4 p-4 bg-white/5 rounded-xl text-sm leading-relaxed" id="watch-desc"></div>
                </div>
            </section>
        </main>
    </div>

    <div id="upload-modal" class="fixed inset-0 bg-black/90 z-[100] hidden items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-[#212121] w-full max-w-2xl rounded-3xl border border-white/10 overflow-hidden shadow-2xl">
            <div class="p-4 border-b border-white/10 flex justify-between items-center">
                <h2 class="text-lg font-bold">Video ve Thumbnail Yükle</h2>
                <button onclick="app.toggleModal(false)" class="p-2 hover:bg-white/10 rounded-full"><i data-lucide="x"></i></button>
            </div>
            
            <div class="p-8 space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div class="border-2 border-dashed border-white/10 rounded-2xl p-6 flex flex-col items-center justify-center bg-black/20 hover:border-blue-500/50 cursor-pointer" onclick="document.getElementById('file-video').click()">
                        <i data-lucide="video" class="w-8 h-8 text-blue-500 mb-2"></i>
                        <span class="text-xs text-center font-medium">Video Seç<br><span id="name-video" class="text-gray-500 text-[10px]">(.mp4, .webm)</span></span>
                        <input type="file" id="file-video" class="hidden" accept="video/*" onchange="app.handleFileSelect(this, 'video')">
                    </div>
                    <div class="border-2 border-dashed border-white/10 rounded-2xl p-6 flex flex-col items-center justify-center bg-black/20 hover:border-emerald-500/50 cursor-pointer" onclick="document.getElementById('file-thumb').click()">
                        <i data-lucide="image" class="w-8 h-8 text-emerald-500 mb-2"></i>
                        <span class="text-xs text-center font-medium">Thumbnail Seç<br><span id="name-thumb" class="text-gray-500 text-[10px]">(.jpg, .png)</span></span>
                        <input type="file" id="file-thumb" class="hidden" accept="image/*" onchange="app.handleFileSelect(this, 'thumb')">
                    </div>
                </div>

                <div class="space-y-4">
                    <input type="text" id="up-title" placeholder="Video Başlığı" class="w-full bg-[#0f0f0f] border border-white/10 p-3 rounded-xl outline-none focus:border-blue-500">
                    <textarea id="up-desc" placeholder="Açıklama" class="w-full bg-[#0f0f0f] border border-white/10 p-3 rounded-xl h-24 outline-none focus:border-blue-500"></textarea>
                </div>

                <div id="progress-box" class="hidden">
                    <div class="flex justify-between text-xs mb-2 text-blue-400 font-bold">
                        <span>Veriler Sunucuya İşleniyor...</span>
                        <span id="progress-val">0%</span>
                    </div>
                    <div class="w-full bg-white/5 h-2 rounded-full overflow-hidden">
                        <div id="progress-bar" class="bg-blue-600 h-full w-0 transition-all duration-300"></div>
                    </div>
                </div>

                <button onclick="app.startUpload()" id="btn-publish" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-2xl font-bold shadow-lg shadow-blue-600/20">YAYINLA</button>
            </div>
        </div>
    </div>

    <script>
        const app = {
            db: [
                { id: 1, title: "Modern Sistem Mimarisi 2026", thumb: "https://picsum.photos/seed/n1/640/360", video: "https://www.w3schools.com/html/mov_bbb.mp4", desc: "Admin 8392479231 tarafından paylaşıldı." }
            ],
            files: { video: null, thumb: null },

            init() {
                lucide.createIcons();
                this.renderGrid();
            },

            toggleModal(show) {
                document.getElementById('upload-modal').style.display = show ? 'flex' : 'none';
            },

            handleFileSelect(input, type) {
                const file = input.files[0];
                if(!file) return;
                this.files[type] = file;
                document.getElementById(`name-${type}`).innerText = file.name;
                document.getElementById(`name-${type}`).classList.add('text-blue-400');
            },

            startUpload() {
                const title = document.getElementById('up-title').value;
                if(!title || !this.files.video || !this.files.thumb) {
                    alert("Lütfen tüm alanları (Video, Resim ve Başlık) doldurun!");
                    return;
                }

                const progressBox = document.getElementById('progress-box');
                const progressBar = document.getElementById('progress-bar');
                const progressVal = document.getElementById('progress-val');
                const btn = document.getElementById('btn-publish');

                progressBox.classList.remove('hidden');
                btn.disabled = true;
                btn.classList.add('opacity-50');

                let p = 0;
                const interval = setInterval(() => {
                    p += Math.random() * 20;
                    if(p >= 100) {
                        p = 100;
                        clearInterval(interval);
                        this.finishUpload(title);
                    }
                    progressBar.style.width = p + '%';
                    progressVal.innerText = Math.round(p) + '%';
                }, 400);
            },

            finishUpload(title) {
                const newVideo = {
                    id: Date.now(),
                    title: title,
                    desc: document.getElementById('up-desc').value,
                    thumb: URL.createObjectURL(this.files.thumb),
                    video: URL.createObjectURL(this.files.video),
                    views: "0 izlenme",
                    time: "Şimdi"
                };
                this.db.unshift(newVideo);
                this.renderGrid();
                setTimeout(() => {
                    this.toggleModal(false);
                    this.showPage('home');
                    alert("Başarılı! Video sistem kayıtlarına (ID: 8392479231) eklendi.");
                    // Reset form
                    document.getElementById('progress-box').classList.add('hidden');
                    document.getElementById('btn-publish').disabled = false;
                    document.getElementById('btn-publish').classList.remove('opacity-50');
                }, 500);
            },

            renderGrid() {
                const grid = document.getElementById('video-grid');
                grid.innerHTML = this.db.map(v => `
                    <div class="group cursor-pointer" onclick="app.watchVideo(${v.id})">
                        <div class="relative aspect-video rounded-2xl overflow-hidden bg-zinc-800 mb-3">
                            <img src="${v.thumb}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                            <div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                                <i data-lucide="play" class="fill-white text-white w-12 h-12"></i>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex-shrink-0"></div>
                            <div>
                                <h3 class="text-sm font-bold line-clamp-2">${v.title}</h3>
                                <p class="text-xs text-gray-400 mt-1">NexTube Creator</p>
                                <p class="text-xs text-gray-400">${v.views || '1.4M'} • ${v.time || '2 gün önce'}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
                lucide.createIcons();
            },

            watchVideo(id) {
                const video = this.db.find(v => v.id === id);
                this.showPage('watch');
                document.getElementById('main-player').src = video.video;
                document.getElementById('watch-title').innerText = video.title;
                document.getElementById('watch-desc').innerText = video.desc || "Açıklama bulunmuyor.";
                window.scrollTo(0,0);
            },

            showPage(id) {
                document.getElementById('page-home').classList.add('hidden');
                document.getElementById('page-watch').classList.add('hidden');
                document.getElementById(`page-${id}`).classList.remove('hidden');
                if(id === 'home') document.getElementById('main-player').pause();
            }
        };

        app.init();
    </script>
</body>
</html>
