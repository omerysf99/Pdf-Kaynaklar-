<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRX Velocity Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #020617; color: white; user-select: none; font-family: 'Inter', sans-serif; touch-action: none; }
        .tab-content { display: none; }
        .active-tab { display: block; }
        .boost-active { border-color: #fbbf24 !important; box-shadow: 0 0 20px #fbbf24; }
        @keyframes shake {
            0% { transform: translate(2px, 2px); }
            50% { transform: translate(-2px, -2px); }
            100% { transform: translate(2px, 2px); }
        }
        .shake-active { animation: shake 0.1s infinite; }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden">

    <header class="p-4 text-center border-b border-gray-900 bg-gray-950 flex justify-between items-center px-6">
        <h1 class="text-lg font-black text-red-600">TRX PRO</h1>
        <div class="flex items-center gap-2 bg-gray-900 px-3 py-1 rounded-full border border-gray-800">
            <span id="top-score" class="text-sm font-bold text-yellow-500">0.00</span>
            <img src="https://cryptologos.cc/logos/tron-trx-logo.png" width="16">
        </div>
    </header>

    <main class="flex-1 overflow-y-auto p-6 pb-24">
        
        <div id="home" class="tab-content active-tab text-center">
            <div class="mt-8 mb-8">
                <p class="text-gray-500 text-xs uppercase tracking-tighter">Mevcut Bakiyeniz</p>
                <span class="text-6xl font-black tracking-tight" id="score">0.00</span>
            </div>
            
            <div id="miner-core" class="w-60 h-60 border-4 border-gray-800 rounded-full mx-auto flex flex-col items-center justify-center transition-all bg-gray-900/30 relative">
                <i id="main-icon" class="fas fa-atom text-7xl text-gray-700"></i>
                <div id="boost-tag" class="hidden absolute top-4 bg-yellow-500 text-black text-[8px] font-bold px-2 py-0.5 rounded italic">2X ACTIVE</div>
            </div>

            <div class="mt-10 space-y-4">
                <div class="max-w-xs mx-auto">
                    <div class="flex justify-between mb-1">
                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Enerji Deposu</span>
                        <span class="text-[10px] font-bold text-red-500" id="energy-text">100 / 100</span>
                    </div>
                    <div class="w-full bg-gray-900 h-3 rounded-full border border-gray-800 p-0.5">
                        <div id="energy-bar" class="bg-gradient-to-r from-red-600 to-red-400 h-full rounded-full transition-all duration-300" style="width: 100%"></div>
                    </div>
                </div>
                <button onclick="activateSensors()" id="init-btn" class="w-full max-w-xs bg-white text-black text-xs font-black py-4 rounded-xl shadow-lg">SENSÖRLERİ BAĞLA</button>
            </div>
        </div>

        <div id="tasks" class="tab-content">
            <h2 class="text-2xl font-black mb-6 italic">GELİŞTİRMELER</h2>
            <div class="space-y-4">
                <div class="bg-gray-900 p-4 rounded-2xl border border-gray-800 flex justify-between items-center">
                    <div>
                        <p class="font-bold">Maksimum Enerji</p>
                        <p class="text-xs text-gray-500">+50 Kapasite Ekler</p>
                    </div>
                    <button onclick="upgradeEnergy()" class="bg-red-600 px-4 py-2 rounded-lg font-bold text-xs shadow-lg">50 TRX</button>
                </div>
                <div class="bg-gray-900 p-4 rounded-2xl border border-gray-800 flex justify-between items-center opacity-50">
                    <div>
                        <p class="font-bold">Soğutma Sistemi</p>
                        <p class="text-xs text-gray-500">Sallama direncini düşürür</p>
                    </div>
                    <button class="bg-gray-700 px-4 py-2 rounded-lg font-bold text-xs">YAKINDA</button>
                </div>
            </div>
        </div>

        <div id="airdrop" class="tab-content">
            <h2 class="text-2xl font-black mb-2 italic text-yellow-500 text-center">YATIRIM MERKEZİ</h2>
            <p class="text-center text-gray-500 text-[10px] mb-8">Bakiyeni kullanarak kazancını katla</p>
            
            <div class="bg-gradient-to-b from-yellow-500/10 to-transparent p-6 rounded-3xl border border-yellow-500/20 text-center">
                <i class="fas fa-rocket text-4xl text-yellow-500 mb-4"></i>
                <h3 class="font-black text-xl mb-2">2X BOOST (KALICI)</h3>
                <p class="text-gray-400 text-sm mb-6">Her sallamada kazandığın TRX miktarı kalıcı olarak ikiye katlanır.</p>
                <button onclick="buyBoost()" class="w-full bg-yellow-500 text-black font-black py-4 rounded-2xl hover:bg-yellow-400 transition-all">100 TRX İLE SATIN AL</button>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-0 w-full bg-gray-950/90 border-t border-gray-900 flex justify-around p-4 backdrop-blur-lg">
        <button onclick="showTab('home')" class="flex flex-col items-center text-red-600">
            <i class="fas fa-sync text-xl"></i>
            <span class="text-[9px] mt-1 font-bold">KAZAN</span>
        </button>
        <button onclick="showTab('tasks')" class="flex flex-col items-center text-gray-500">
            <i class="fas fa-arrow-up-right-dots text-xl"></i>
            <span class="text-[9px] mt-1 font-bold">GELİŞTİR</span>
        </button>
        <button onclick="showTab('airdrop')" class="flex flex-col items-center text-gray-500">
            <i class="fas fa-chart-line text-xl"></i>
            <span class="text-[9px] mt-1 font-bold">YATIRIM</span>
        </button>
    </nav>

    <script>
        let score = localStorage.getItem('trx_v2_score') ? parseFloat(localStorage.getItem('trx_v2_score')) : 0.00;
        let maxEnergy = localStorage.getItem('trx_max_energy') ? parseInt(localStorage.getItem('trx_max_energy')) : 100;
        let energy = maxEnergy;
        let hasBoost = localStorage.getItem('trx_boost') === 'true';
        let sensorActive = false;

        function updateDisplay() {
            document.getElementById('score').innerText = score.toFixed(2);
            document.getElementById('top-score').innerText = score.toFixed(2);
            document.getElementById('energy-text').innerText = Math.floor(energy) + " / " + maxEnergy;
            document.getElementById('energy-bar').style.width = (energy / maxEnergy * 100) + "%";
            
            if(hasBoost) {
                document.getElementById('miner-core').classList.add('boost-active');
                document.getElementById('boost-tag').classList.remove('hidden');
            }
        }
        updateDisplay();

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active-tab'));
            document.getElementById(tabId).classList.add('active-tab');
            document.querySelectorAll('nav button').forEach(b => b.classList.replace('text-red-600', 'text-gray-500'));
            event.currentTarget.classList.replace('text-gray-500', 'text-red-600');
        }

        function upgradeEnergy() {
            if (score >= 50) {
                score -= 50;
                maxEnergy += 50;
                energy = maxEnergy;
                localStorage.setItem('trx_v2_score', score);
                localStorage.setItem('trx_max_energy', maxEnergy);
                updateDisplay();
                alert("Maksimum enerji artırıldı!");
            } else {
                alert("Yetersiz TRX!");
            }
        }

        function buyBoost() {
            if (hasBoost) {
                alert("Zaten 2X Boost aktif!");
                return;
            }
            if (score >= 100) {
                score -= 100;
                hasBoost = true;
                localStorage.setItem('trx_v2_score', score);
                localStorage.setItem('trx_boost', 'true');
                updateDisplay();
                alert("Yatırım başarılı! Artık 2 kat kazanıyorsun.");
            } else {
                alert("Yetersiz TRX!");
            }
        }

        function activateSensors() {
            if (typeof DeviceMotionEvent.requestPermission === 'function') {
                DeviceMotionEvent.requestPermission().then(state => {
                    if (state === 'granted') {
                        window.addEventListener('devicemotion', handleMotion);
                        document.getElementById('init-btn').style.display = 'none';
                        sensorActive = true;
                    }
                });
            } else {
                window.addEventListener('devicemotion', handleMotion);
                document.getElementById('init-btn').style.display = 'none';
                sensorActive = true;
            }
        }

        let lastX, lastY, lastZ;
        const THRESHOLD = 35; // Sert sallama eşiği

        function handleMotion(event) {
            if (energy <= 0) return;

            let acc = event.accelerationIncludingGravity;
            if (!acc) return;

            let delta = Math.abs(acc.x - lastX) + Math.abs(acc.y - lastY) + Math.abs(acc.z - lastZ);
            
            if (delta > THRESHOLD) {
                let gain = 0.05;
                if (hasBoost) gain *= 2;
                
                score += gain;
                energy -= 1;
                
                localStorage.setItem('trx_v2_score', score);
                updateDisplay();
                
                const core = document.getElementById('miner-core');
                core.classList.add('shake-active');
                setTimeout(() => core.classList.remove('shake-active'), 200);
            }

            lastX = acc.x; lastY = acc.y; lastZ = acc.z;
        }
    </script>
</body>
</html>
