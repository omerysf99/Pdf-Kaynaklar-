<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube - Admin 8392479231</title>
    <style>
        :root {
            --bg: #0f0f0f;
            --surface: #1e1e1e;
            --text: #ffffff;
            --secondary: #aaaaaa;
            --hover: #2a2a2a;
            --yt-red: #ff0000;
        }

        body {
            font-family: "Roboto", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            overflow-x: hidden;
        }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; width: 100%; height: 56px;
            background: var(--bg); display: flex; justify-content: space-between;
            align-items: center; padding: 0 16px; z-index: 2000;
        }

        .search-box {
            display: flex; align-items: center; background: #121212;
            border: 1px solid #333; border-radius: 40px; padding: 0 15px; width: 40%;
        }
        .search-box input {
            background: transparent; border: none; color: white; padding: 8px; width: 100%; outline: none;
        }

        /* --- SIDEBAR --- */
        aside {
            position: fixed; top: 56px; left: 0; width: 240px; height: calc(100vh - 56px);
            background: var(--bg); overflow-y: auto; padding-top: 10px;
        }
        .nav-link {
            padding: 10px 24px; display: flex; align-items: center; gap: 20px;
            cursor: pointer; transition: 0.1s; font-size: 14px; border-radius: 10px; margin: 0 10px;
        }
        .nav-link:hover { background: var(--hover); }
        .nav-link.active { background: var(--hover); font-weight: bold; }
        .section-title { padding: 15px 24px 8px; font-size: 16px; font-weight: bold; }
        
        .sub-item { display: flex; align-items: center; gap: 15px; padding: 8px 24px; cursor: pointer; border-radius: 10px; margin: 0 10px; }
        .sub-item:hover { background: var(--hover); }
        .sub-avatar { width: 24px; height: 24px; border-radius: 50%; background: #444; }

        /* --- MAIN CONTENT --- */
        main { margin-top: 56px; margin-left: 240px; padding: 15px; }

        /* Kategoriler */
        .categories {
            display: flex; gap: 12px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 10px;
        }
        .cat-btn {
            background: var(--surface); border: none; color: white; padding: 6px 12px;
            border-radius: 8px; white-space: nowrap; cursor: pointer; font-size: 14px;
        }
        .cat-btn.active { background: white; color: black; }

        /* Upload B√∂l√ºm√º */
        .upload-ui {
            background: var(--surface); border-radius: 15px; padding: 20px; margin-bottom: 30px;
            border: 1px dashed #444; text-align: center;
        }

        /* Video Gridleri */
        .video-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; row-gap: 35px;
        }
        .shorts-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; margin-top: 20px;
        }

        /* Video Kartƒ± */
        .video-card { cursor: pointer; }
        .thumb-cont { position: relative; width: 100%; aspect-ratio: 16/9; border-radius: 12px; overflow: hidden; background: #222; }
        .thumb-cont img { width: 100%; height: 100%; object-fit: cover; }
        .v-details { display: flex; gap: 12px; margin-top: 12px; }
        .v-meta h4 { margin: 0; font-size: 16px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .v-meta p { color: var(--secondary); font-size: 13px; margin: 4px 0; }

        /* Shorts Kartƒ± */
        .shorts-card { cursor: pointer; }
        .shorts-thumb { width: 100%; aspect-ratio: 9/16; border-radius: 12px; overflow: hidden; background: #222; }
        .shorts-thumb img { width: 100%; height: 100%; object-fit: cover; }

        /* Video Oynatƒ±cƒ± Katmanƒ± */
        #playerOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg); z-index: 3000; display: none; padding: 40px; box-sizing: border-box;
        }
        .close-p { position: absolute; top: 10px; right: 20px; font-size: 30px; cursor: pointer; }
        video { width: 100%; max-width: 1000px; border-radius: 12px; background: #000; }
        .shorts-p { max-width: 400px !important; }

        @media (max-width: 800px) { aside { display: none; } main { margin-left: 0; } }
    </style>
</head>
<body>

<header>
    <div style="display:flex; align-items:center; gap:20px;">
        <span style="font-size:20px; cursor:pointer;">‚ò∞</span>
        <div style="color:red; font-weight:bold; font-size:20px; letter-spacing:-1px;">YouTube<sup>TR</sup></div>
    </div>
    <div class="search-box">
        <input type="text" placeholder="Ara">
        <span>üîç</span>
    </div>
    <div style="font-size:12px; color:var(--secondary)">ID: 8392479231</div>
</header>

<aside>
    <div class="nav-link active">üè† Ana Sayfa</div>
    <div class="nav-link">ü©≥ Shorts</div>
    <div class="nav-link">üì∫ Abonelikler</div>
    <hr style="border:0; border-top:1px solid #333; margin:15px 0;">
    <div class="section-title">Abonelikler ></div>
    <div class="sub-item"><div class="sub-avatar"></div> AI REBORNN</div>
    <div class="sub-item"><div class="sub-avatar"></div> Hasan Yayƒ±nda</div>
    <div class="sub-item"><div class="sub-avatar"></div> Kurtlar Vadisi</div>
    <div class="sub-item"><div class="sub-avatar"></div> Argi TV</div>
</aside>

<main>
    <div class="categories">
        <button class="cat-btn active">T√ºm√º</button>
        <button class="cat-btn">M√ºzik</button>
        <button class="cat-btn">Mixler</button>
        <button class="cat-btn">Oyun</button>
        <button class="cat-btn">Canlƒ±</button>
        <button class="cat-btn">Rap yapma</button>
        <button class="cat-btn">Roblox</button>
    </div>

    <div class="upload-ui">
        <h3 style="margin-top:0">Yeni Video Payla≈ü</h3>
        <input type="file" id="vInp" accept="video/*" style="display:none">
        <input type="file" id="tInp" accept="image/*" style="display:none">
        <div style="display:flex; gap:10px; justify-content:center; margin-bottom:10px;">
            <button onclick="document.getElementById('vInp').click()">Video Se√ß</button>
            <button onclick="document.getElementById('tInp').click()">Kapak Se√ß</button>
        </div>
        <input type="text" id="vTitle" placeholder="Video Ba≈ülƒ±ƒüƒ±" style="background:#121212; border:1px solid #333; color:white; padding:8px; border-radius:5px; width:250px;">
        <button onclick="uploadVideo()" style="background:white; color:black; border:none; padding:8px 15px; border-radius:5px; font-weight:bold; cursor:pointer;">Y√úKLE</button>
        <p id="upStatus" style="font-size:12px; margin-top:10px;"></p>
    </div>

    <div class="video-grid" id="mainGrid"></div>

    <div style="display:flex; align-items:center; gap:10px; margin-top:40px;">
        <span style="font-size:20px;">ü©≥</span>
        <h2 style="font-size:20px;">Shorts</h2>
    </div>
    <div class="shorts-grid" id="shortsGrid"></div>
</main>

<div id="playerOverlay">
    <span class="close-p" onclick="closeVideo()">√ó</span>
    <center>
        <video id="pVid" controls autoplay></video>
        <h2 id="pTitle" style="margin-top:20px;"></h2>
    </center>
</div>

<script>
    const DB_NAME = 'YT_Clone_DB_8392479231';
    let db;

    // IndexedDB Kurulumu
    const request = indexedDB.open(DB_NAME, 1);
    request.onupgradeneeded = (e) => {
        db = e.target.result;
        db.createObjectStore('videos', { keyPath: 'id' });
    };
    request.onsuccess = (e) => {
        db = e.target.result;
        renderContent();
    };

    // Video Y√ºkleme Fonksiyonu
    async function uploadVideo() {
        const vFile = document.getElementById('vInp').files[0];
        const tFile = document.getElementById('tInp').files[0];
        const title = document.getElementById('vTitle').value;
        const status = document.getElementById('upStatus');

        if(!vFile || !tFile || !title) return alert("Eksik alan bƒ±rakmayƒ±n!");

        status.textContent = "ƒ∞≈üleniyor...";
        const duration = await getDuration(vFile);
        
        const videoObj = {
            id: crypto.randomUUID(),
            title: title,
            vBlob: vFile,
            tBlob: tFile,
            isShorts: duration < 60,
            views: Math.floor(Math.random() * 900) + "B",
            date: "≈ûimdi"
        };

        const tx = db.transaction('videos', 'readwrite');
        tx.objectStore('videos').add(videoObj);
        tx.oncomplete = () => {
            status.textContent = "‚úÖ Ba≈üarƒ±lƒ±!";
            renderContent();
        };
    }

    function getDuration(file) {
        return new Promise(resolve => {
            const v = document.createElement('video');
            v.src = URL.createObjectURL(file);
            v.onloadedmetadata = () => { URL.revokeObjectURL(v.src); resolve(v.duration); };
        });
    }

    // Aray√ºz√º Render Etme
    let activeURLs = [];
    function renderContent() {
        const mainGrid = document.getElementById('mainGrid');
        const shortsGrid = document.getElementById('shortsGrid');
        mainGrid.innerHTML = '';
        shortsGrid.innerHTML = '';
        activeURLs.forEach(u => URL.revokeObjectURL(u));
        activeURLs = [];

        const tx = db.transaction('videos', 'readonly');
        tx.objectStore('videos').getAll().onsuccess = (e) => {
            e.target.result.reverse().forEach(vid => {
                const tUrl = URL.createObjectURL(vid.tBlob);
                const vUrl = URL.createObjectURL(vid.vBlob);
                activeURLs.push(tUrl, vUrl);

                if(vid.isShorts) {
                    const card = document.createElement('div');
                    card.className = 'shorts-card';
                    card.innerHTML = `<div class="shorts-thumb"><img src="${tUrl}"></div><p style="font-size:14px; margin-top:8px; font-weight:bold;">${vid.title}</p>`;
                    card.onclick = () => openVideo(vUrl, vid.title, true);
                    shortsGrid.appendChild(card);
                } else {
                    const card = document.createElement('div');
                    card.className = 'video-card';
                    card.innerHTML = `
                        <div class="thumb-cont"><img src="${tUrl}"></div>
                        <div class="v-details">
                            <div style="width:36px; height:36px; background:#444; border-radius:50%;"></div>
                            <div class="v-meta">
                                <h4>${vid.title}</h4>
                                <p>Admin User</p>
                                <p>${vid.views} g√∂r√ºnt√ºleme ‚Ä¢ ${vid.date}</p>
                            </div>
                        </div>`;
                    card.onclick = () => openVideo(vUrl, vid.title, false);
                    mainGrid.appendChild(card);
                }
            });
        };
    }

    function openVideo(url, title, isShorts) {
        const overlay = document.getElementById('playerOverlay');
        const video = document.getElementById('pVid');
        if(isShorts) video.classList.add('shorts-p');
        else video.classList.remove('shorts-p');
        
        video.src = url;
        document.getElementById('pTitle').textContent = title;
        overlay.style.display = 'block';
    }

    function closeVideo() {
        document.getElementById('playerOverlay').style.display = 'none';
        document.getElementById('pVid').pause();
    }
</script>

</body>
</html>
