<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano Banana Image Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap');
        body { background: #000; color: #fff; font-family: 'Space+Grotesk', sans-serif; overflow-x: hidden; }
        .gradient-bg { background: radial-gradient(circle at top right, #1e1b4b, #000); min-height: 100vh; }
        .glass-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .neon-btn { background: linear-gradient(90deg, #3b82f6, #8b5cf6); transition: all 0.3s ease; text-shadow: 0 0 10px rgba(255,255,255,0.5); }
        .neon-btn:hover { box-shadow: 0 0 25px rgba(139, 92, 246, 0.6); transform: translateY(-2px); }
        .loader-ring { border: 3px solid transparent; border-top: 3px solid #fff; border-radius: 50%; width: 20px; height: 20px; animation: spin 0.8s linear infinite; display: none; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="gradient-bg flex flex-col items-center justify-center p-4">

    <div class="w-full max-w-3xl flex justify-between items-center mb-8 px-4">
        <div>
            <h1 class="text-3xl font-bold tracking-tighter">NANO <span class="text-blue-500">BANANA</span></h1>
            <p class="text-[10px] text-gray-500 uppercase tracking-[0.2em]">Authorized Access Only</p>
        </div>
        <div class="text-right">
            <div id="status" class="text-[10px] font-bold py-1 px-3 rounded-full border border-red-500 text-red-500">SİSTEM KİLİTLİ</div>
            <p class="text-[10px] text-gray-600 mt-1">ID: 8392479231</p>
        </div>
    </div>

    <main class="w-full max-w-xl space-y-6">
        <div class="glass-card p-6 rounded-3xl shadow-2xl">
            <input type="password" id="tokenInp" oninput="checkAccess()" 
                placeholder="Session Token Girin (240f67...)"
                class="w-full bg-black/40 border border-white/10 p-4 rounded-2xl text-blue-400 font-mono text-sm outline-none focus:border-blue-500 transition-all">
        </div>

        <div id="appBody" class="glass-card p-6 rounded-3xl opacity-20 pointer-events-none transition-all duration-700">
            <textarea id="promptInp" placeholder="Hayalindeki görseli detaylandır..." 
                class="w-full bg-transparent border-none text-xl font-light placeholder-gray-700 outline-none resize-none h-32"></textarea>
            
            <button onclick="generate()" id="genBtn" class="neon-btn w-full py-5 rounded-2xl font-bold text-lg flex items-center justify-center gap-4">
                <span id="btnText">GÖRSELİ OLUŞTUR</span>
                <div id="loader" class="loader-ring"></div>
            </button>
        </div>

        <div id="resultBox" class="hidden glass-card rounded-3xl overflow-hidden group">
            <img id="finalImg" src="" class="w-full h-auto object-cover">
            <div class="p-4 flex justify-between bg-black/60">
                <button onclick="downloadImg()" class="text-sm font-medium text-blue-400 hover:text-white transition-colors">Görseli Kaydet</button>
                <span class="text-[10px] text-gray-500">Generated by Gemini Nano Banana</span>
            </div>
        </div>
    </main>

    <footer class="mt-12 text-gray-700 text-[10px] font-mono">
        SYSTEM_HASH: 240f67bd9aabb6087253060bd4251228
    </footer>

    <script>
        const CONFIG = {
            KEY: "AIzaSyC1pUJc7AAYA-jqp3wY16F_fOFONoUfMyE",
            TOKEN: "240f67bd9aabb6087253060bd4251228",
            URL: "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent"
        };

        function checkAccess() {
            const inp = document.getElementById('tokenInp').value;
            const app = document.getElementById('appBody');
            const status = document.getElementById('status');
            
            if(inp === CONFIG.TOKEN) {
                app.style.opacity = "1";
                app.style.pointerEvents = "auto";
                status.innerText = "ERİŞİM ONAYLANDI";
                status.classList.replace('text-red-500', 'text-green-500');
                status.classList.replace('border-red-500', 'border-green-500');
            }
        }

        async function generate() {
            const prompt = document.getElementById('promptInp').value;
            const btn = document.getElementById('genBtn');
            const loader = document.getElementById('loader');
            const btnText = document.getElementById('btnText');
            const resultBox = document.getElementById('resultBox');
            const finalImg = document.getElementById('finalImg');

            if(!prompt) return;

            btn.disabled = true;
            loader.style.display = "block";
            btnText.innerText = "İŞLENİYOR";

            try {
                const response = await fetch(`${CONFIG.URL}?key=${CONFIG.KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `High quality creative image generation: ${prompt}` }] }]
                    })
                });

                const data = await response.json();
                
                // Gemini API base64 kontrolü
                const imageData = data?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;
                
                if(imageData) {
                    finalImg.src = `data:image/png;base64,${imageData}`;
                    resultBox.classList.remove('hidden');
                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                } else {
                    alert("Model bu istem için görsel üretemedi. Lütfen API yetkilerinizi veya promptu kontrol edin.");
                }
            } catch (err) {
                alert("Bağlantı Hatası: " + err.message);
            } finally {
                btn.disabled = false;
                loader.style.display = "none";
                btnText.innerText = "GÖRSELİ OLUŞTUR";
            }
        }

        function downloadImg() {
            const link = document.createElement('a');
            link.href = document.getElementById('finalImg').src;
            link.download = `banana_${Date.now()}.png`;
            link.click();
        }
    </script>
</body>
</html>
