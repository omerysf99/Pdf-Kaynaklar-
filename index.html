<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TapSwap Clone - ChatGPT Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <style>
        :root {
            --bg-top: #2c1a3d;
            --bg-bottom: #0e0a1a;
            --gold: #f3ba2f;
            --panel-bg: rgba(255, 255, 255, 0.08);
            --text-secondary: #b1a7c1;
        }

        body {
            margin: 0;
            background: linear-gradient(to bottom, var(--bg-top), var(--bg-bottom));
            color: white;
            font-family: 'Inter', -apple-system, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- Üst Bilgi Alanı --- */
        .top-info {
            width: 90%;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .league {
            background: var(--panel-bg);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .connect-wallet {
            background: var(--panel-bg);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* --- Bakiye --- */
        .balance-container {
            margin-top: 30px;
            text-align: center;
        }

        .balance-amount {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 3.8rem;
            font-weight: 800;
        }

        .balance-amount img { width: 45px; height: 45px; }

        /* --- Ana Coin Alanı --- */
        #tap-page {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            position: relative;
        }

        .coin-wrapper {
            position: relative;
            width: 320px;
            height: 320px;
            perspective: 1000px;
        }

        .main-coin {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, #fcd34d 0%, #b45309 100%);
            border: 10px solid #5a3d12;
            box-shadow: 0 0 50px rgba(0,0,0,0.5), inset 0 0 20px rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            transition: transform 0.1s ease-out;
            cursor: pointer;
        }

        .main-coin img {
            width: 105%;
            height: 105%;
            object-fit: cover;
            border-radius: 50%;
            pointer-events: none;
        }

        /* --- Enerji ve Boost --- */
        .bottom-controls {
            width: 90%;
            margin-bottom: 110px;
        }

        .energy-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .progress-container {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #f3ba2f, #ff9800);
            box-shadow: 0 0 10px var(--gold);
        }

        /* --- Alt Menü --- */
        .nav-bar {
            position: fixed;
            bottom: 15px;
            width: 94%;
            background: #1c142e;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            padding: 10px 0;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-secondary);
            font-size: 0.7rem;
            text-decoration: none;
            gap: 5px;
        }

        .nav-item i { font-size: 1.4rem; }
        .nav-item.active { color: var(--gold); }

        /* --- Animasyonlar --- */
        .float-text {
            position: absolute;
            color: white;
            font-size: 2.5rem;
            font-weight: 900;
            pointer-events: none;
            z-index: 100;
            animation: moveUp 0.8s ease-out forwards;
        }

        @keyframes moveUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-150px); }
        }

        #ad-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 1000;
            display: none; flex-direction: column; align-items: center; justify-content: center;
        }
    </style>
</head>
<body>

    <div id="ad-overlay">
        <h2 style="color:var(--gold)">Reklam İzleniyor...</h2>
        <div id="ad-timer" style="font-size: 4rem; font-weight: 900;">15</div>
    </div>

    <div class="top-info">
        <div class="league">
            <i class="fas fa-trophy" style="color:#c0c0c0"></i> Silver <i class="fas fa-chevron-right" style="font-size: 0.7rem;"></i>
        </div>
        <div class="connect-wallet" id="wallet-btn">
            <i class="fas fa-wallet"></i> Connect Wallet
        </div>
    </div>

    <div class="balance-container">
        <div class="balance-amount">
            <img src="https://cryptologos.cc/logos/solana-sol-logo.png">
            <span id="bal">0</span>
        </div>
    </div>

    <div id="tap-page">
        <div class="coin-wrapper">
            <div class="main-coin" id="coin">
                <img src="chatgpt.jpg" alt="ChatGPT Coin">
            </div>
        </div>
    </div>

    <div class="bottom-controls">
        <div class="energy-row">
            <span>⚡ <span id="e-cur">0</span> / 1500</span>
            <span style="color:var(--gold); font-size:0.9rem;" onclick="useFullTank()">
                <i class="fas fa-fire"></i> Boost
            </span>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="e-bar"></div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active"><i class="fas fa-coins"></i>Earn</div>
        <div class="nav-item"><i class="fas fa-tasks"></i>Tasks</div>
        <div class="nav-item"><i class="fas fa-user-friends"></i>Ref</div>
        <div class="nav-item"><i class="fas fa-rocket"></i>Boost</div>
        <div class="nav-item"><i class="fas fa-parachute-box"></i>Airdrop</div>
    </nav>

    <script>
        let balance = 0;
        let energy = 1500;
        const maxEnergy = 1500;

        const balEl = document.getElementById('bal');
        const eCurEl = document.getElementById('e-cur');
        const eBarEl = document.getElementById('e-bar');
        const coin = document.getElementById('coin');

        // --- Tıklama ve 3D Tilt Efekti ---
        coin.addEventListener('pointerdown', (e) => {
            if (energy >= 1) {
                energy--;
                balance += 1;
                updateUI();
                
                // 3D Tilt
                const rect = coin.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width/2;
                const y = e.clientY - rect.top - rect.height/2;
                coin.style.transform = `perspective(1000px) rotateX(${-y/10}deg) rotateY(${x/10}deg) scale(0.95)`;
                
                spawnText(e.clientX, e.clientY);
                if(navigator.vibrate) navigator.vibrate(30);
            }
        });

        coin.addEventListener('pointerup', () => {
            setTimeout(() => { coin.style.transform = 'rotateX(0) rotateY(0) scale(1)'; }, 100);
        });

        function spawnText(x, y) {
            const t = document.createElement('div');
            t.className = 'float-text';
            t.innerText = '+1';
            t.style.left = `${x - 20}px`;
            t.style.top = `${y - 40}px`;
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 800);
        }

        function updateUI() {
            balEl.innerText = balance.toLocaleString();
            eCurEl.innerText = energy;
            eBarEl.style.width = (energy / maxEnergy * 100) + '%';
        }

        // --- Full Tank / Boost ---
        function useFullTank() {
            document.getElementById('ad-overlay').style.display = 'flex';
            let s = 15;
            const itv = setInterval(() => {
                s--;
                document.getElementById('ad-timer').innerText = s;
                if(s <= 0) {
                    clearInterval(itv);
                    document.getElementById('ad-overlay').style.display = 'none';
                    energy = maxEnergy;
                    updateUI();
                }
            }, 1000);
        }

        // Enerji Dolumu
        setInterval(() => { if(energy < maxEnergy) { energy++; updateUI(); } }, 1500);

        // İlk Yükleme
        updateUI();

        // TON Cüzdan Entegrasyonu (Görseldeki "Connect Wallet" Butonu)
        const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
            manifestUrl: 'https://raw.githubusercontent.com/ton-connect/demo-dapp-with-react/master/public/tonconnect-manifest.json',
            buttonRootId: 'wallet-btn'
        });
    </script>
</body>
</html>
