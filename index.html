<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SpyderCoin - Advanced Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        :root {
            --primary-blue: #00a3ff;
            --bg-dark: #050a14;
            --card-bg: #0f172a;
            --text-main: #ffffff;
            --accent-yellow: #facc15;
            --danger: #ef4444;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; margin: 0; padding: 0; }
        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header { padding: 25px 20px; text-align: center; }
        .balance-title { font-size: 11px; color: #94a3b8; letter-spacing: 2px; }
        .balance-row { display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: 5px; }
        .balance-value { font-size: 38px; font-weight: 900; }
        .wallet-btn { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 12px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1); }

        /* GELƒ∞≈ûTƒ∞Rƒ∞LMƒ∞≈û MAVƒ∞ FAN (G√∂rseldeki gibi √ßok kanatlƒ±) */
        .fan-stage {
            position: relative;
            width: 230px;
            height: 230px;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fan-blade-wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            animation: rotateFan 2s linear infinite;
        }

        /* 16 Kanatlƒ± ultra fan tasarƒ±mƒ± */
        .blade {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 30px;
            height: 105px;
            background: linear-gradient(180deg, var(--primary-blue) 0%, #002244 100%);
            border-radius: 40% 40% 5px 5px;
            transform-origin: bottom center;
            opacity: 0.95;
            box-shadow: 0 0 10px rgba(0, 163, 255, 0.4);
        }

        /* Kanat Dizilimi */
        .blade:nth-child(1) { transform: translate(-50%, -100%) rotate(0deg); }
        .blade:nth-child(2) { transform: translate(-50%, -100%) rotate(22.5deg); }
        .blade:nth-child(3) { transform: translate(-50%, -100%) rotate(45deg); }
        .blade:nth-child(4) { transform: translate(-50%, -100%) rotate(67.5deg); }
        .blade:nth-child(5) { transform: translate(-50%, -100%) rotate(90deg); }
        .blade:nth-child(6) { transform: translate(-50%, -100%) rotate(112.5deg); }
        .blade:nth-child(7) { transform: translate(-50%, -100%) rotate(135deg); }
        .blade:nth-child(8) { transform: translate(-50%, -100%) rotate(157.5deg); }
        .blade:nth-child(9) { transform: translate(-50%, -100%) rotate(180deg); }
        .blade:nth-child(10) { transform: translate(-50%, -100%) rotate(202.5deg); }
        .blade:nth-child(11) { transform: translate(-50%, -100%) rotate(225deg); }
        .blade:nth-child(12) { transform: translate(-50%, -100%) rotate(247.5deg); }
        .blade:nth-child(13) { transform: translate(-50%, -100%) rotate(270deg); }
        .blade:nth-child(14) { transform: translate(-50%, -100%) rotate(292.5deg); }
        .blade:nth-child(15) { transform: translate(-50%, -100%) rotate(315deg); }
        .blade:nth-child(16) { transform: translate(-50%, -100%) rotate(337.5deg); }

        .fan-center {
            width: 60px; height: 60px;
            background: #111;
            border: 4px solid var(--primary-blue);
            border-radius: 50%;
            z-index: 10;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px var(--primary-blue);
        }

        @keyframes rotateFan { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* MINING CARD */
        .mining-card { background: var(--card-bg); margin: 0 20px; padding: 20px; border-radius: 20px; text-align: center; border: 1px solid rgba(255,255,255,0.05); }
        .pool-text { font-size: 30px; font-weight: 800; color: var(--primary-blue); }
        .speed-info { color: var(--accent-yellow); font-size: 14px; font-weight: bold; margin-top: 5px; }

        /* BUTTONS */
        .actions { display: flex; gap: 10px; padding: 20px; }
        .btn { flex: 1; padding: 15px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; }
        .btn-claim { background: var(--primary-blue); color: white; }
        .btn-boost { background: #1e293b; color: white; }

        /* SLIDE PANELS */
        .slide-panel {
            display: none; position: fixed; bottom: 0; left: 0; width: 100%;
            background: #0f172a; border-top: 3px solid var(--primary-blue);
            border-radius: 20px 20px 0 0; padding: 25px; z-index: 2000;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn { from { transform: translateY(100%); } to { transform: translateY(0); } }

        /* WARNING TEXT */
        .warning { font-size: 11px; color: var(--danger); margin-top: 10px; line-height: 1.4; }

        .nav-bar { position: fixed; bottom: 0; width: 100%; height: 70px; background: #020617; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #1e293b; }
        .nav-item { color: #64748b; font-size: 11px; }
    </style>
</head>
<body>

    <header>
        <div class="balance-title">TOPLAM BAKƒ∞YE</div>
        <div class="balance-row">
            <div class="balance-value">$<span id="main-balance">0.00000</span></div>
            <div class="wallet-btn" onclick="togglePanel('wallet-panel', true)">
                <img src="https://cdn-icons-png.flaticon.com/512/6963/6963701.png" width="24">
            </div>
        </div>
    </header>

    <main>
        <div class="fan-stage">
            <div class="fan-blade-wrapper" id="fan-anim">
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
            </div>
            <div class="fan-center"><img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" width="25"></div>
        </div>

        <div class="mining-card">
            <div id="pool-balance" class="pool-text">0.000000 USDT</div>
            <div class="speed-info">‚ö° G√º√ß: <span id="speed-val">1.00</span> GH/s</div>
            <p class="warning">‚ö†Ô∏è Reklamla alƒ±nan hƒ±zlar 24 saat sonra silinir!</p>
        </div>

        <div class="actions">
            <button class="btn btn-claim" onclick="handleClaim()">üí∞ CLAIM</button>
            <button class="btn btn-boost" onclick="togglePanel('boost-panel', true)">üöÄ BOOST</button>
        </div>
    </main>

    <div id="boost-panel" class="slide-panel">
        <div style="display:flex; justify-content:space-between;">
            <h3>GH/s Maƒüazasƒ±</h3>
            <span onclick="togglePanel('boost-panel', false)" style="color:var(--danger)">KAPAT ‚úñ</span>
        </div>
        <div style="margin-top:20px;">
            <div style="background:#1e293b; padding:15px; border-radius:12px; margin-bottom:10px;" onclick="watchAdForSpeed()">
                <b>√úcretsiz +0.05 GH/s</b><br>
                <small>10 Reklam ƒ∞zle (Kalan: <span id="ad-count">10</span>)</small>
                <p class="warning">Bu hƒ±z 24 saat ge√ßerlidir.</p>
            </div>
            <div style="background:#1e293b; padding:15px; border-radius:12px;">
                <b>S√ºper Fan +2.00 GH/s</b><br>
                <small>Fiyat: 0.50$</small>
            </div>
        </div>
    </div>

    <div id="wallet-panel" class="slide-panel">
        <div style="display:flex; justify-content:space-between;">
            <h3>Para √áek (USDT)</h3>
            <span onclick="togglePanel('wallet-panel', false)" style="color:var(--danger)">KAPAT ‚úñ</span>
        </div>
        <div style="margin-top:15px;">
            <div style="background:rgba(239, 68, 68, 0.1); padding:10px; border-radius:8px; border:1px solid var(--danger); font-size:12px; margin-bottom:15px;">
                <b>√áEKƒ∞M ≈ûARTLARI:</b><br>
                - Minimum √ñdeme: <b>0.75$</b><br>
                - Gerekli Kazƒ±m G√ºc√º: <b>3.00 GH/s</b>
            </div>
            <input type="text" placeholder="TRC20 C√ºzdan Adresi" style="width:100%; padding:15px; background:#1e293b; border:1px solid #334155; border-radius:10px; color:white; margin-bottom:10px;">
            <input type="number" id="wd-amount" placeholder="Miktar" style="width:100%; padding:15px; background:#1e293b; border:1px solid #334155; border-radius:10px; color:white;">
            <button class="btn btn-claim" style="width:100%; margin-top:15px;" onclick="processWithdraw()">√ñDEME TALEBƒ∞ G√ñNDER</button>
        </div>
    </div>

    <script>
        const TWA = window.Telegram.WebApp;
        let userData = {
            balance: 0.0,
            pool: 0.0,
            speed: 1.00, // Temel hƒ±z
            adsWatched: 0
        };

        // MINING: 1 GH/s = 0.00001 USDT/s
        setInterval(() => {
            userData.pool += (userData.speed * 0.00001);
            document.getElementById('pool-balance').innerText = userData.pool.toFixed(6) + " USDT";
        }, 1000);

        function handleClaim() {
            if(userData.pool < 0.0001) return TWA.showAlert("Min claim 0.0001 USDT!");
            window.open("https://adexora.com/dl/REKLAM", "_blank");
            userData.balance += userData.pool;
            userData.pool = 0;
            updateUI();
        }

        function watchAdForSpeed() {
            userData.adsWatched++;
            if(userData.adsWatched >= 10) {
                userData.speed += 0.05;
                userData.adsWatched = 0;
                TWA.showAlert("Hƒ±zƒ±nƒ±z 24 saatliƒüine artƒ±rƒ±ldƒ±!");
                // 24 saat sonra hƒ±zƒ± geri d√º≈ü√ºr (Sim√ºlasyon)
                setTimeout(() => { 
                    userData.speed -= 0.05; 
                    updateUI(); 
                }, 86400000);
            } else {
                window.open("https://adexora.com/dl/REKLAM", "_blank");
            }
            updateUI();
        }

        function processWithdraw() {
            const amount = parseFloat(document.getElementById('wd-amount').value);
            
            // √áEKƒ∞M KONTROLLERƒ∞
            if(amount < 0.75) {
                return TWA.showAlert("HATA: Minimum √∂deme limiti 0.75$!");
            }
            if(userData.balance < amount) {
                return TWA.showAlert("HATA: Bakiyeniz yetersiz!");
            }
            if(userData.speed < 3.00) {
                return TWA.showAlert(`HATA: √ñdeme alabilmek i√ßin hƒ±zƒ±nƒ±z en az 3.00 GH/s olmalƒ±dƒ±r!\nMevcut hƒ±zƒ±nƒ±z: ${userData.speed.toFixed(2)} GH/s`);
            }

            TWA.showAlert("Talebiniz alƒ±ndƒ±! Kontrollerden sonra g√∂nderilecektir.");
        }

        function updateUI() {
            document.getElementById('main-balance').innerText = userData.balance.toFixed(5);
            document.getElementById('speed-val').innerText = userData.speed.toFixed(2);
            document.getElementById('ad-count').innerText = 10 - userData.adsWatched;
            // Fan hƒ±zƒ± ayarƒ±
            const animSpeed = Math.max(0.3, 2 - (userData.speed / 5));
            document.getElementById('fan-anim').style.animationDuration = animSpeed + "s";
        }

        function togglePanel(id, show) { document.getElementById(id).style.display = show ? 'block' : 'none'; }
    </script>
</body>
</html>
