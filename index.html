<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SpyderCoin - Web Edition</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --bg: #0a0a0b; --purple: #a855f7; --card: #1c1c1e; --text: #ffffff; --inactive: #8e8e93; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { background: var(--bg); color: var(--text); font-family: -apple-system, sans-serif; margin: 0; padding: 0; height: 100vh; overflow: hidden; }

        .page { display: none; height: 100vh; width: 100vw; flex-direction: column; align-items: center; padding: 20px; padding-bottom: 120px; }
        .page.active { display: flex; }

        /* üï∑Ô∏è ANA EKRAN (OYNA) */
        .bal-container { text-align: center; margin-top: 40px; }
        .bal-label { color: var(--inactive); font-size: 14px; margin-bottom: 5px; }
        .bal-text { font-size: 72px; font-weight: 800; }

        .tap-area { position: relative; margin-top: 50px; width: 280px; height: 280px; display: flex; justify-content: center; align-items: center; }
        
        /* √ñr√ºmcek ve Daire Tasarƒ±mƒ± */
        .spider-circle {
            width: 250px; height: 250px;
            border: 4px solid var(--purple);
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 120px;
            background: rgba(168, 85, 247, 0.05);
            box-shadow: 0 0 40px rgba(168, 85, 247, 0.3);
            cursor: pointer;
            transition: transform 0.05s;
            z-index: 10;
        }
        .spider-circle:active { transform: scale(0.92); }

        /* üï∏Ô∏è Aƒû ANƒ∞MASYONU */
        .web-effect {
            position: absolute;
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            animation: webOut 0.6s ease-out forwards;
        }
        @keyframes webOut {
            0% { width: 10px; height: 10px; opacity: 1; border-width: 1px; }
            100% { width: 350px; height: 350px; opacity: 0; border-width: 3px; }
        }

        /* +1 YAZISI */
        .plus-one {
            position: absolute;
            color: var(--purple);
            font-size: 32px;
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 0.8s ease-out forwards;
            z-index: 20;
        }
        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }

        /* üîã ENERJƒ∞ */
        .energy-wrapper { width: 90%; margin-top: auto; }
        .energy-info { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 16px; }
        .energy-bar { width: 100%; height: 14px; background: #2c2c2e; border-radius: 10px; overflow: hidden; }
        #energy-fill { height: 100%; width: 100%; background: linear-gradient(90deg, #a855f7, #6366f1); transition: width 0.2s; }

        /* üì± ALT MEN√ú */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #121214; display: grid; grid-template-columns: repeat(4, 1fr); padding: 15px 0 30px; border-top: 1px solid #2c2c2e; }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: var(--inactive); font-size: 12px; cursor: pointer; }
        .nav-item.active { color: var(--purple); }
        .nav-icon { font-size: 24px; margin-bottom: 5px; }
    </style>
</head>
<body>

    <div id="p-play" class="page active">
        <div class="bal-container">
            <div class="bal-label">SPYDER BALANCE</div>
            <div class="bal-text" id="ui-bal">0</div>
        </div>

        <div class="tap-area" id="tap-zone">
            <div class="spider-circle">üï∑Ô∏è</div>
        </div>

        <div class="energy-wrapper">
            <div class="energy-info">
                <span>‚ö° Enerji</span>
                <span><span id="ui-nrg">100</span> / 100</span>
            </div>
            <div class="energy-bar"><div id="energy-fill"></div></div>
        </div>
    </div>

    <div id="p-tasks" class="page"><h2>G√∂revler</h2></div>
    <div id="p-friends" class="page"><h2>Arkada≈ülar</h2></div>
    <div id="p-wallet" class="page"><h2>C√ºzdan</h2></div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="nav('p-play', this)"><span class="nav-icon">üéÆ</span>Oyna</div>
        <div class="nav-item" onclick="nav('p-tasks', this)"><span class="nav-icon">üìã</span>G√∂rev</div>
        <div class="nav-item" onclick="nav('p-friends', this)"><span class="nav-icon">üë•</span>Dost</div>
        <div class="nav-item" onclick="nav('p-wallet', this)"><span class="nav-icon">üí∞</span>C√ºzdan</div>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        let bal = parseInt(localStorage.getItem('spyder_bal')) || 0;
        let nrg = 100;

        function init() {
            tg.ready();
            tg.expand();
            updateUI();
            
            // Enerji Yenileme (Her 3 saniyede +1)
            setInterval(() => {
                if(nrg < 100) { nrg++; updateUI(); }
            }, 3000);
        }

        function handleTap(e) {
            if (nrg <= 0) {
                tg.HapticFeedback.notificationOccurred('error');
                return;
            }

            // Deƒüerleri Artƒ±r
            bal += 1;
            nrg -= 1;
            updateUI();
            localStorage.setItem('spyder_bal', bal);

            // Titre≈üim (Telegram)
            tg.HapticFeedback.impactOccurred('medium');

            // üï∏Ô∏è Aƒü Animasyonu Olu≈ütur
            const zone = document.getElementById('tap-zone');
            const web = document.createElement('div');
            web.className = 'web-effect';
            zone.appendChild(web);
            setTimeout(() => web.remove(), 600);

            // ‚ûï +1 Yazƒ±sƒ± Olu≈ütur
            const touch = e.touches ? e.touches[0] : e;
            const plus = document.createElement('div');
            plus.className = 'plus-one';
            plus.innerText = '+1';
            plus.style.left = (touch.clientX - 20) + 'px';
            plus.style.top = (touch.clientY - 40) + 'px';
            plus.style.position = 'fixed';
            document.body.appendChild(plus);
            setTimeout(() => plus.remove(), 800);
        }

        function updateUI() {
            document.getElementById('ui-bal').innerText = bal.toLocaleString();
            document.getElementById('ui-nrg').innerText = nrg;
            document.getElementById('energy-fill').style.width = nrg + "%";
        }

        function nav(pageId, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            el.classList.add('active');
        }

        const tapZone = document.querySelector('.spider-circle');
        tapZone.addEventListener('touchstart', (e) => {
            e.preventDefault();
            handleTap(e);
        });

        init();
    </script>
</body>
</html>
