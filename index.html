<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexTube - Video Platformu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #0f0f0f;
            color: #ffffff;
        }

        /* Özel Kaydırma Çubuğu */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f0f0f; }
        ::-webkit-scrollbar-thumb { background: #3f3f3f; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        .video-card:hover .play-overlay { opacity: 1; }
        
        /* Geçiş Animasyonları */
        .page-transition {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .aspect-video-custom {
            aspect-ratio: 16 / 9;
        }
    </style>
</head>
<body class="antialiased">

    <header class="fixed top-0 w-full h-14 bg-[#0f0f0f] flex items-center justify-between px-4 z-50 border-b border-white/10">
        <div class="flex items-center gap-4">
            <button class="p-2 hover:bg-white/10 rounded-full" onclick="showHome()">
                <i data-lucide="menu"></i>
            </button>
            <div class="flex items-center gap-1 cursor-pointer" onclick="showHome()">
                <div class="bg-red-600 p-1 rounded-lg">
                    <i data-lucide="play" class="fill-white text-white w-5 h-5"></i>
                </div>
                <span class="text-xl font-bold tracking-tighter">NexTube</span>
            </div>
        </div>

        <div class="hidden md:flex items-center flex-1 max-w-[720px] ml-10">
            <div class="flex w-full group">
                <input type="text" placeholder="Ara" 
                    class="w-full bg-[#121212] border border-white/10 rounded-l-full px-5 py-2 outline-none focus:border-blue-500 transition">
                <button class="bg-white/10 px-5 border border-l-0 border-white/10 rounded-r-full hover:bg-white/20">
                    <i data-lucide="search" class="w-5 h-5 text-gray-400"></i>
                </button>
            </div>
        </div>

        <div class="flex items-center gap-3">
            <button onclick="toggleUploadModal(true)" 
                class="flex items-center gap-2 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full text-sm font-medium transition">
                <i data-lucide="plus" class="w-5 h-5"></i> <span class="hidden sm:inline">Yükle</span>
            </button>
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 border border-white/20 cursor-pointer"></div>
        </div>
    </header>

    <div class="flex pt-14 h-screen">
        <nav class="w-20 lg:w-64 hidden md:flex flex-col p-3 bg-[#0f0f0f] border-r border-white/5 overflow-y-auto">
            <div class="space-y-2">
                <button class="w-full flex items-center gap-5 p-3 bg-white/10 rounded-xl" onclick="showHome()">
                    <i data-lucide="home"></i> <span class="hidden lg:inline">Ana Sayfa</span>
                </button>
                <button class="w-full flex items-center gap-5 p-3 hover:bg-white/5 rounded-xl text-gray-400">
                    <i data-lucide="zap"></i> <span class="hidden lg:inline">Shorts</span>
                </button>
                <button class="w-full flex items-center gap-5 p-3 hover:bg-white/5 rounded-xl text-gray-400">
                    <i data-lucide="play-square"></i> <span class="hidden lg:inline">Abonelikler</span>
                </button>
            </div>
        </nav>

        <main id="main-content" class="flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar">
            
            <section id="home-view" class="page-transition">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-4 gap-y-10" id="video-grid">
                    </div>
            </section>

            <section id="watch-view" class="hidden page-transition">
                <div class="max-w-[1280px] mx-auto flex flex-col lg:flex-row gap-6">
                    <div class="flex-1">
                        <div class="bg-black rounded-2xl overflow-hidden aspect-video shadow-2xl">
                            <video id="player" controls autoplay class="w-full h-full"></video>
                        </div>
                        <div class="mt-4">
                            <h1 id="watch-title" class="text-xl font-bold line-clamp-2">Video Başlığı</h1>
                            <div class="flex flex-wrap items-center justify-between gap-4 mt-4 border-b border-white/10 pb-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-blue-600"></div>
                                    <div>
                                        <p class="font-bold">Kanal Sahibi</p>
                                        <p class="text-xs text-gray-400">1.2M Abone</p>
                                    </div>
                                    <button class="ml-4 bg-white text-black px-4 py-2 rounded-full text-sm font-bold hover:bg-gray-200 transition">Abone Ol</button>
                                </div>
                                <div class="flex items-center bg-white/10 rounded-full overflow-hidden">
                                    <button class="px-4 py-2 hover:bg-white/10 border-r border-white/5 flex items-center gap-2">
                                        <i data-lucide="thumbs-up" class="w-5 h-5"></i> 15K
                                    </button>
                                    <button class="px-4 py-2 hover:bg-white/10">
                                        <i data-lucide="thumbs-down" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="mt-4 p-4 bg-white/5 rounded-xl">
                                <p class="text-sm font-bold mb-1">1.234 görüntüleme • 17 Oca 2026</p>
                                <p id="watch-description" class="text-sm text-gray-300 whitespace-pre-wrap"></p>
                            </div>
                        </div>
                    </div>
                    <div class="lg:w-[400px] flex flex-col gap-4">
                        <h3 class="font-bold">Sıradaki Videolar</h3>
                        <div class="bg-white/5 p-4 rounded-xl border border-white/5 text-center text-sm text-gray-500">
                            Önerilen videolar alanı
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="upload-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4">
        <div class="bg-[#282828] w-full max-w-xl rounded-3xl shadow-2xl overflow-hidden border border-white/10 animate-in zoom-in duration-300">
            <div class="p-4 border-b border-white/10 flex justify-between items-center">
                <h2 class="text-lg font-bold">Video Yükle</h2>
                <button onclick="toggleUploadModal(false)" class="p-2 hover:bg-white/10 rounded-full transition">
                    <i data-lucide="x"></i>
                </button>
            </div>
            
            <div class="p-6 space-y-6">
                <div class="flex flex-col items-center justify-center border-2 border-dashed border-white/10 rounded-2xl p-6 bg-black/20 hover:border-blue-500/50 cursor-pointer group transition" onclick="document.getElementById('input-video').click()">
                    <div class="w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-600/20 transition">
                        <i data-lucide="upload" class="text-gray-400 group-hover:text-blue-500"></i>
                    </div>
                    <p class="text-sm font-medium" id="video-status">Video dosyası seçin (mp4, webm)</p>
                    <input type="file" id="input-video" class="hidden" accept="video/*">
                </div>

                <div class="flex items-center gap-4 bg-white/5 p-4 rounded-xl border border-white/5">
                    <div class="flex-1">
                        <p class="text-xs font-bold text-gray-400 mb-1 uppercase tracking-wider">Thumbnail (Kapak)</p>
                        <input type="file" id="input-thumb" accept="image/*" class="text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer">
                    </div>
                    <div id="thumb-preview" class="w-24 aspect-video-custom bg-black rounded border border-white/10 overflow-hidden flex items-center justify-center text-[10px] text-gray-600">
                        Önizleme
                    </div>
                </div>

                <div class="space-y-4">
                    <input type="text" id="input-title" placeholder="Başlık (zorunlu)" 
                        class="w-full bg-[#121212] border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-blue-500 transition">
                    <textarea id="input-desc" placeholder="Açıklama" rows="3"
                        class="w-full bg-[#121212] border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-blue-500 transition resize-none"></textarea>
                </div>

                <button onclick="publishVideo()" id="btn-publish"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-2xl font-bold shadow-lg shadow-blue-600/20 transition disabled:opacity-50 disabled:cursor-not-allowed">
                    Yayınla
                </button>
            </div>
        </div>
    </div>

    

    <script>
        // Lucide ikonlarını başlat
        lucide.createIcons();

        // Veri Saklama (Geçici)
        let videos = [];

        // DOM Elementleri
        const videoGrid = document.getElementById('video-grid');
        const uploadModal = document.getElementById('upload-modal');
        const homeView = document.getElementById('home-view');
        const watchView = document.getElementById('watch-view');
        const player = document.getElementById('player');
        const thumbPreview = document.getElementById('thumb-preview');

        // Video Giriş Kontrolleri
        const inputVideo = document.getElementById('input-video');
        const inputThumb = document.getElementById('input-thumb');
        const inputTitle = document.getElementById('input-title');
        const inputDesc = document.getElementById('input-desc');
        const videoStatus = document.getElementById('video-status');

        // Modal Yönetimi
        function toggleUploadModal(show) {
            uploadModal.style.display = show ? 'flex' : 'none';
            if (!show) resetForm();
        }

        // Formu Sıfırla
        function resetForm() {
            inputVideo.value = '';
            inputThumb.value = '';
            inputTitle.value = '';
            inputDesc.value = '';
            videoStatus.innerText = 'Video dosyası seçin (mp4, webm)';
            thumbPreview.innerHTML = 'Önizleme';
        }

        // Thumbnail Önizleme
        inputThumb.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                thumbPreview.innerHTML = `<img src="${url}" class="w-full h-full object-cover">`;
            }
        });

        // Video Dosya Seçimi Görselleştirme
        inputVideo.addEventListener('change', function(e) {
            if (e.target.files[0]) videoStatus.innerText = e.target.files[0].name;
        });

        // VİDEO YAYINLAMA MANTIĞI
        function publishVideo() {
            const vFile = inputVideo.files[0];
            const tFile = inputThumb.files[0];
            const title = inputTitle.value;
            const desc = inputDesc.value;

            if (!vFile || !title) {
                alert("Lütfen en az bir video dosyası seçin ve başlık girin.");
                return;
            }

            // Object URL'ler oluştur (Geçici bellek bağlantıları)
            const videoUrl = URL.createObjectURL(vFile);
            const thumbUrl = tFile ? URL.createObjectURL(tFile) : 'https://via.placeholder.com/640x360/222222/555555?text=Thumbnail+Yok';

            const newVideo = {
                id: Date.now(),
                title: title,
                description: desc,
                videoUrl: videoUrl,
                thumbUrl: thumbUrl,
                date: new Date().toLocaleDateString('tr-TR')
            };

            videos.unshift(newVideo);
            renderVideos();
            toggleUploadModal(false);
        }

        // VİDEOLARI LİSTELEME
        function renderVideos() {
            if (videos.length === 0) {
                videoGrid.innerHTML = `
                    <div class="col-span-full flex flex-col items-center justify-center py-20 opacity-20">
                        <i data-lucide="video-off" class="w-20 h-20 mb-4"></i>
                        <p class="text-xl">Henüz video yüklenmedi</p>
                    </div>
                `;
                lucide.createIcons();
                return;
            }

            videoGrid.innerHTML = videos.map(video => `
                <div class="video-card cursor-pointer group" onclick="watchVideo(${video.id})">
                    <div class="relative aspect-video-custom rounded-xl overflow-hidden bg-zinc-800">
                        <img src="${video.thumbUrl}" class="w-full h-full object-cover transition duration-300 group-hover:scale-105">
                        <div class="absolute inset-0 bg-black/40 opacity-0 play-overlay transition-opacity flex items-center justify-center">
                            <i data-lucide="play" class="fill-white text-white w-12 h-12"></i>
                        </div>
                        <span class="absolute bottom-2 right-2 bg-black/80 text-[10px] font-bold px-1.5 py-0.5 rounded">12:45</span>
                    </div>
                    <div class="flex gap-3 mt-3">
                        <div class="w-9 h-9 rounded-full bg-zinc-700 flex-shrink-0"></div>
                        <div>
                            <h3 class="text-sm font-bold line-clamp-2 leading-tight">${video.title}</h3>
                            <p class="text-xs text-gray-400 mt-1">Kullanıcı Kanalı</p>
                            <p class="text-xs text-gray-400">12B izlenme • ${video.date}</p>
                        </div>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // VİDEO İZLEME SAYFASINA GEÇİŞ
        function watchVideo(id) {
            const video = videos.find(v => v.id === id);
            if (!video) return;

            homeView.classList.add('hidden');
            watchView.classList.remove('hidden');

            player.src = video.videoUrl;
            document.getElementById('watch-title').innerText = video.title;
            document.getElementById('watch-description').innerText = video.description || 'Açıklama eklenmemiş.';
            
            window.scrollTo(0, 0);
        }

        // ANA SAYFAYA DÖNÜŞ
        function showHome() {
            player.pause();
            watchView.classList.add('hidden');
            homeView.classList.remove('hidden');
        }

        // Başlangıçta render et
        renderVideos();
    </script>
</body>
</html>
