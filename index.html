<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRX Stars Miner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #0b141a; color: white; user-select: none; font-family: 'Segoe UI', sans-serif; touch-action: none; }
        .tab-content { display: none; }
        .active-tab { display: block; }
        .card { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; }
        .btn-green { background: #1e7a5d; border-bottom: 4px solid #145a45; }
        .btn-blue { background: #2d79a1; border-bottom: 4px solid #1f5673; }
        .active-nav { background: #2d4156; border: 1px solid #4a6a8a; border-radius: 12px; }
        @keyframes shake-anim {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(3deg); }
            75% { transform: rotate(-3deg); }
            100% { transform: rotate(0deg); }
        }
        .mining-active { animation: shake-anim 0.2s infinite; filter: drop-shadow(0 0 15px #3b82f6); }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden">

    <div class="p-4 flex justify-between items-center">
        <div class="flex items-center gap-2 bg-[#1a2b36] px-4 py-2 rounded-full border border-gray-700">
            <div class="bg-green-500 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold">$</div>
            <span id="usd-balance" class="font-mono text-lg">0.0000 <span class="text-gray-400 text-sm">TRX</span></span>
        </div>
        <div class="flex gap-2">
            <div class="w-10 h-7 bg-red-600 rounded flex items-center justify-center text-[10px]">ðŸ‡¹ðŸ‡·</div>
            <div class="w-10 h-10 bg-[#1a2b36] rounded-xl flex items-center justify-center border border-gray-700">
                <i class="fas fa-cog text-gray-400"></i>
            </div>
        </div>
    </div>

    <main class="flex-1 overflow-y-auto p-4 space-y-4">
        
        <div id="home" class="tab-content active-tab space-y-4">
            
            <div class="card p-8 flex flex-col items-center justify-center relative min-h-[250px]">
                <img id="miner-img" src="https://i.ibb.co/L8N7MvX/miner-box.png" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2161/2161832.png'" class="w-48 mb-6 transition-all">
                <div class="w-full py-3 bg-[#1e3a4d] rounded-xl text-center text-2xl font-bold tracking-widest text-blue-300">
                    SÄ°STEM HAZIR
                </div>
                <button onclick="startSensor()" id="start-btn" class="absolute inset-0 bg-black/40 rounded-2xl flex items-center justify-center font-bold text-sm">
                    SENSÃ–RÃœ BAÄžLAMAK Ä°Ã‡Ä°N TIKLA
                </button>
            </div>

            <div class="bg-[#1e7a5d]/20 border border-[#1e7a5d]/40 p-4 rounded-2xl flex items-center gap-4">
                <div class="w-12 h-12 bg-[#1e7a5d] rounded-xl flex items-center justify-center font-bold">X100</div>
                <div>
                    <p class="font-bold text-sm">POWER LOTTERY</p>
                    <p class="text-xs text-gray-400">HÄ±za gÃ¶re X100 kazanÃ§</p>
                </div>
            </div>

            <div class="card p-4">
                <p class="text-sm text-gray-400 mb-2">Madenlenen TRX</p>
                <div class="bg-[#0b141a] p-4 rounded-xl border border-gray-800 text-3xl font-mono" id="hash-count">
                    0.00000
                </div>
                <button class="w-full mt-4 py-4 btn-blue rounded-xl font-bold flex items-center justify-center gap-2">
                    <i class="fas fa-sync"></i> TRX'LERÄ° AKTAR
                </button>
            </div>

            <div class="px-2">
                <div class="flex justify-between text-[10px] mb-1 text-gray-500 uppercase font-bold">
                    <span>Power Core</span>
                    <span id="energy-text">100 / 100</span>
                </div>
                <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                    <div id="energy-bar" class="h-full bg-blue-500" style="width: 100%"></div>
                </div>
            </div>
        </div>

        <div id="upgrade" class="tab-content space-y-4">
            <h2 class="text-xl font-bold p-2">YÃ¼kseltmeler</h2>
            <div class="card p-4 flex justify-between items-center">
                <div>
                    <p class="font-bold">Maks Enerji</p>
                    <p class="text-xs text-gray-500">+50 Kapasite</p>
                </div>
                <button onclick="buyUpgrade(50)" class="bg-blue-600 px-4 py-2 rounded-lg text-sm font-bold">50 TRX</button>
            </div>
        </div>

        <div id="invest" class="tab-content space-y-4">
            <h2 class="text-xl font-bold p-2 text-yellow-500">YatÄ±rÄ±m Merkezi</h2>
            <div class="card p-6 border-yellow-500/30 bg-yellow-500/5 text-center">
                <i class="fas fa-bolt text-4xl text-yellow-500 mb-4"></i>
                <h3 class="font-bold text-lg">2X Sallama GÃ¼cÃ¼</h3>
                <p class="text-sm text-gray-400 mb-6">TÃ¼m sallamalardan 2 kat fazla TRX alÄ±rsÄ±nÄ±z.</p>
                <button onclick="buyBoost()" class="w-full py-3 bg-yellow-500 text-black font-bold rounded-xl">100 TRX Ä°LE AL</button>
            </div>
        </div>

    </main>

    <nav class="p-2 bg-[#142129] flex justify-between items-center border-t border-gray-800">
        <button onclick="showTab('upgrade')" class="flex-1 flex flex-col items-center py-2">
            <i class="fas fa-microchip text-purple-400 mb-1"></i>
            <span class="text-[10px]">YÃ¼kselt</span>
        </button>
        <button onclick="showTab('invest')" class="flex-1 flex flex-col items-center py-2">
            <i class="fas fa-dollar-sign text-green-400 mb-1"></i>
            <span class="text-[10px]">Kazan</span>
        </button>
        <button onclick="showTab('home')" class="flex-1 flex flex-col items-center py-2 active-nav">
            <i class="fas fa-pickaxe text-blue-400 mb-1"></i>
            <span class="text-[10px]">Madenci</span>
        </button>
        <button class="flex-1 flex flex-col items-center py-2 opacity-50">
            <i class="fas fa-list text-gray-400 mb-1"></i>
            <span class="text-[10px]">GÃ¶rev</span>
        </button>
        <button class="flex-1 flex flex-col items-center py-2 opacity-50">
            <i class="fas fa-wallet text-gray-400 mb-1"></i>
            <span class="text-[10px]">Ã–deme</span>
        </button>
    </nav>

    <script>
        let balance = 0.0000;
        let maxEnergy = 100;
        let energy = 100;
        let hasBoost = false;
        let lastX, lastY, lastZ;

        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active-tab'));
            document.getElementById(id).classList.add('active-tab');
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active-nav'));
            event.currentTarget.classList.add('active-nav');
        }

        function updateUI() {
            document.getElementById('usd-balance').innerText = balance.toFixed(4) + " TRX";
            document.getElementById('hash-count').innerText = balance.toFixed(5);
            document.getElementById('energy-text').innerText = energy + " / " + maxEnergy;
            document.getElementById('energy-bar').style.width = (energy / maxEnergy * 100) + "%";
        }

        function startSensor() {
            if (typeof DeviceMotionEvent.requestPermission === 'function') {
                DeviceMotionEvent.requestPermission().then(s => { if(s==='granted') window.addEventListener('devicemotion', handleShake); });
            } else {
                window.addEventListener('devicemotion', handleShake);
            }
            document.getElementById('start-btn').classList.add('hidden');
        }

        function handleShake(event) {
            if (energy <= 0) return;
            let acc = event.accelerationIncludingGravity;
            let delta = Math.abs(acc.x - lastX) + Math.abs(acc.y - lastY) + Math.abs(acc.z - lastZ);
            
            if (delta > 40) { // Sert sallama eÅŸiÄŸi
                let gain = (delta > 60) ? 0.0005 : 0.0001;
                if (hasBoost) gain *= 2;
                
                balance += gain;
                energy -= 1;
                updateUI();
                
                const img = document.getElementById('miner-img');
                img.classList.add('mining-active');
                setTimeout(() => img.classList.remove('mining-active'), 300);
            }
            lastX = acc.x; lastY = acc.y; lastZ = acc.z;
        }

        function buyUpgrade(cost) {
            if (balance >= cost) {
                balance -= cost;
                maxEnergy += 50;
                energy = maxEnergy;
                updateUI();
                alert("YÃ¼kseltme tamamlandÄ±!");
            } else { alert("Yetersiz bakiye!"); }
        }

        function buyBoost() {
            if (balance >= 100) {
                balance -= 100;
                hasBoost = true;
                updateUI();
                alert("2X KazanÃ§ Aktif!");
            } else { alert("Yetersiz bakiye!"); }
        }
    </script>
</body>
</html>
