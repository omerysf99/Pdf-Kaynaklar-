<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yaytsogram Evolution: Reset System</title>
    <style>
        :root {
            --primary: #0088cc;
            --bronze: linear-gradient(135deg, #cd7f32, #a0522d);
            --silver: linear-gradient(135deg, #c0c0c0, #708090);
            --gold: linear-gradient(135deg, #ffd700, #daa520);
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: white; height: 100vh; display: flex; justify-content: center; overflow: hidden; }

        .app-shell { width: 100%; max-width: 480px; background: radial-gradient(circle at top, #2c3e50, #000); display: flex; flex-direction: column; position: relative; }

        header { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .stat-pill { background: var(--glass); padding: 8px 15px; border-radius: 50px; font-weight: 800; font-size: 0.9rem; border: 1px solid rgba(255,255,255,0.1); }
        
        .content { flex: 1; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .tab-panel { display: none; flex-direction: column; align-items: center; width: 100%; animation: fadeIn 0.3s; }
        .tab-panel.active { display: flex; }

        /* --- YUMURTA TASARIMI --- */
        .lvl-name { margin-bottom: 10px; font-weight: 900; letter-spacing: 1px; text-transform: uppercase; font-size: 1.2rem; }
        .egg-container { width: 260px; height: 350px; position: relative; cursor: pointer; transition: 0.1s; }
        .egg-container:active { transform: scale(0.92); }
        
        .egg { 
            width: 100%; height: 100%; border-radius: 50% 50% 50% 50% / 65% 65% 35% 35%;
            position: relative; transition: 0.5s ease; box-shadow: 0 40px 70px rgba(0,0,0,0.6);
            border: 4px solid rgba(255,255,255,0.1);
        }
        
        .lvl1-style { background: var(--bronze); }
        .lvl2-style { background: var(--silver); }
        .lvl3-style { background: var(--gold); }

        .egg-shine { position: absolute; top: 15%; left: 15%; width: 30%; height: 20%; background: rgba(255,255,255,0.2); border-radius: 50%; filter: blur(10px); }

        /* --- PUAN VE PROGRESS --- */
        .score-display { font-size: 3.2rem; font-weight: 900; margin-top: 15px; }
        .target-display { font-size: 0.85rem; opacity: 0.6; margin-bottom: 10px; font-weight: bold; }
        .prog-bg { width: 85%; height: 10px; background: #222; border-radius: 10px; overflow: hidden; border: 1px solid #333; }
        .prog-fill { height: 100%; width: 0%; background: var(--primary); transition: 0.2s; box-shadow: 0 0 15px var(--primary); }

        /* --- MODAL (√ñD√úL) --- */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 10000; padding: 20px; }
        .reward-card { background: white; color: #222; padding: 30px; border-radius: 30px; text-align: center; width: 100%; max-width: 350px; animation: popUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes popUp { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* --- NAV --- */
        nav { background: #111; display: flex; padding: 10px 5px 35px; border-top: 1px solid #222; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; color: #555; font-size: 0.7rem; font-weight: 700; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.5rem; margin-bottom: 4px; }

        .tap-anim { position: fixed; color: #fff; font-size: 2.5rem; font-weight: 900; pointer-events: none; animation: tapFly 0.8s forwards; z-index: 999; text-shadow: 0 0 10px #0088cc; }
        @keyframes tapFly { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-130px); opacity: 0; } }
    </style>
</head>
<body>

<div class="overlay" id="rewardOverlay">
    <div class="reward-card">
        <h1 id="rewardIcon" style="font-size: 4rem;">üéÅ</h1>
        <h2 id="rewardTitle">LEVEL TAMAMLANDI!</h2>
        <p id="rewardDesc">≈ûansƒ±na √ßƒ±kan √∂d√ºl:</p>
        <div id="rewardVal" style="font-size: 2.5rem; font-weight: 900; color: var(--primary); margin: 15px 0;">0.00 TON</div>
        <button id="nextLvlBtn" style="width:100%; background:var(--primary); color:white; border:none; padding:15px; border-radius:15px; font-weight:900; cursor:pointer;">SONRAKƒ∞ YUMURTAYA GE√á</button>
    </div>
</div>

<div class="app-shell">
    <header>
        <div class="stat-pill" id="lvlBadge">LEVEL 1</div>
        <div class="stat-pill" id="totalTon" style="color: #00ccff; border-color: #00ccff;">0.00 TON</div>
    </header>

    <div class="content">
        <div id="mine-tab" class="tab-panel active">
            <div class="lvl-name" id="lvlName">BRONZ YUMURTA</div>
            <div class="egg-container" id="eggBtn">
                <div class="egg lvl1-style" id="eggVisual"><div class="egg-shine"></div></div>
            </div>
            <div class="score-display" id="score">0</div>
            <div class="target-display" id="targetLabel">HEDEF: 15.000.000</div>
            <div class="prog-bg"><div class="prog-fill" id="progFill"></div></div>
        </div>

        <div id="other-tab" class="tab-panel">
            <h2>G√∂revler & C√ºzdan</h2>
            <p style="margin-top:20px; opacity:0.6;">√ñd√ºllerin otomatik olarak c√ºzdanƒ±na yansƒ±r.</p>
        </div>
    </div>

    <nav>
        <div class="nav-item active" onclick="switchTab('mine', this)"><i>‚õèÔ∏è</i><span>Kaz</span></div>
        <div class="nav-item" onclick="switchTab('other', this)"><i>üëõ</i><span>C√ºzdan</span></div>
    </nav>
</div>

<script>
    // Durum Deƒüi≈ükenleri
    let currentLevel = parseInt(localStorage.getItem('yaytso_lvl')) || 1;
    let currentClicks = parseInt(localStorage.getItem('yaytso_clicks')) || 0;
    let totalBalance = parseFloat(localStorage.getItem('yaytso_balance')) || 0;

    const levelConfigs = {
        1: { name: "BRONZ YUMURTA", target: 15000000, color: "#cd7f32", class: "lvl1-style", icon: "üéÅ" },
        2: { name: "G√úM√ú≈û YUMURTA", target: 45000000, color: "#c0c0c0", class: "lvl2-style", icon: "ü•à" },
        3: { name: "ALTIN YUMURTA", target: 71000000, color: "#ffd700", class: "lvl3-style", icon: "üèÜ" }
    };

    function updateUI() {
        const config = levelConfigs[currentLevel];
        
        document.getElementById('lvlName').innerText = config.name;
        document.getElementById('lvlName').style.color = config.color;
        document.getElementById('lvlBadge').innerText = "LEVEL " + currentLevel;
        document.getElementById('score').innerText = currentClicks.toLocaleString();
        document.getElementById('targetLabel').innerText = "HEDEF: " + config.target.toLocaleString();
        document.getElementById('totalTon').innerText = totalBalance.toFixed(2) + " TON";
        
        const egg = document.getElementById('eggVisual');
        egg.className = "egg " + config.class;

        const progress = (currentClicks / config.target) * 100;
        document.getElementById('progFill').style.width = Math.min(progress, 100) + "%";

        // Verileri kaydet
        localStorage.setItem('yaytso_lvl', currentLevel);
        localStorage.setItem('yaytso_clicks', currentClicks);
        localStorage.setItem('yaytso_balance', totalBalance);
    }

    function handleTap(e) {
        const config = levelConfigs[currentLevel];
        if (currentClicks < config.target) {
            currentClicks += 500000; // TEST HIZI: Ger√ßek kullanƒ±mda +1 yapƒ±n.
            
            if (currentClicks >= config.target) {
                currentClicks = config.target;
                showReward();
            }
            updateUI();
            createTapEffect(e);
        }
    }

    function showReward() {
        const config = levelConfigs[currentLevel];
        let reward = 0;
        let chance = Math.random() * 100;

        // √ñd√ºl mantƒ±ƒüƒ±
        if (chance < 80) reward = Math.random() * (5 - 0.1) + 0.1;
        else reward = Math.random() * (20 - 5) + 5;

        totalBalance += reward;
        
        document.getElementById('rewardIcon').innerText = config.icon;
        document.getElementById('rewardVal').innerText = reward.toFixed(2) + " TON";
        document.getElementById('rewardOverlay').style.display = 'flex';

        const btn = document.getElementById('nextLvlBtn');
        if (currentLevel < 3) {
            btn.innerText = "SONRAKƒ∞ YUMURTAYA GE√á (PUAN SIFIRLANIR)";
            btn.onclick = () => {
                currentLevel++;
                currentClicks = 0; // PUAN SIFIRLAMA
                document.getElementById('rewardOverlay').style.display = 'none';
                updateUI();
            };
        } else {
            btn.innerText = "OYUNU TAMAMLADIN!";
            btn.onclick = () => location.reload();
        }
    }

    function createTapEffect(e) {
        const x = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
        const y = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
        const div = document.createElement('div');
        div.className = 'tap-anim';
        div.innerText = "+1";
        div.style.left = (x - 20) + "px";
        div.style.top = (y - 50) + "px";
        document.body.appendChild(div);
        setTimeout(() => div.remove(), 800);
    }

    function switchTab(id, el) {
        document.querySelectorAll('.tab-panel').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id + '-tab').classList.add('active');
        el.classList.add('active');
    }

    // Event Listeners
    document.getElementById('eggBtn').addEventListener('touchstart', (e) => { e.preventDefault(); handleTap(e); });
    document.getElementById('eggBtn').addEventListener('mousedown', handleTap);

    // ƒ∞lk y√ºkleme
    updateUI();
</script>
</body>
</html>
