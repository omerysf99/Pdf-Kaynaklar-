<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yaytsogram Pro: Wallet & Tasks</title>
    <style>
        :root {
            --primary: #0088cc;
            --secondary: #222;
            --bronze: linear-gradient(135deg, #cd7f32, #a0522d);
            --silver: linear-gradient(135deg, #c0c0c0, #708090);
            --gold: linear-gradient(135deg, #ffd700, #daa520);
            --glass: rgba(255, 255, 255, 0.08);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: white; height: 100vh; display: flex; justify-content: center; overflow: hidden; }

        .app-shell { width: 100%; max-width: 480px; background: radial-gradient(circle at top, #1c2e3e, #000); display: flex; flex-direction: column; position: relative; }

        /* --- HEADER --- */
        header { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--glass); }
        .stat-pill { background: var(--glass); padding: 6px 12px; border-radius: 50px; font-weight: 800; font-size: 0.8rem; border: 1px solid rgba(255,255,255,0.1); }

        /* --- CONTENT & TABS --- */
        .content { flex: 1; position: relative; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .tab-panel { display: none; width: 100%; flex-direction: column; align-items: center; animation: fadeIn 0.3s ease; }
        .tab-panel.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- EGG DESIGN --- */
        .lvl-name { font-weight: 900; letter-spacing: 1px; margin-bottom: 10px; color: #cd7f32; }
        .egg-wrapper { width: 240px; height: 320px; position: relative; cursor: pointer; transition: 0.1s; margin: 20px 0; }
        .egg-wrapper:active { transform: scale(0.92); }
        .egg { width: 100%; height: 100%; border-radius: 50% 50% 50% 50% / 65% 65% 35% 35%; position: relative; border: 2px solid rgba(255,255,255,0.2); transition: 0.5s; }
        .lvl1-egg { background: var(--bronze); }
        .lvl2-egg { background: var(--silver); }
        .lvl3-egg { background: var(--gold); box-shadow: 0 0 40px rgba(255,215,0,0.3); }

        /* --- PROGRESS --- */
        .score { font-size: 2.8rem; font-weight: 900; }
        .progress-container { width: 90%; height: 12px; background: #222; border-radius: 20px; margin: 15px 0; overflow: hidden; border: 1px solid #333; }
        .progress-bar { height: 100%; width: 0%; background: var(--primary); transition: 0.3s; box-shadow: 0 0 10px var(--primary); }

        /* --- WALLET & CARDS --- */
        .card { background: var(--glass); width: 100%; padding: 20px; border-radius: 20px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.05); }
        .input-box { width: 100%; background: #111; border: 1px solid #333; padding: 12px; border-radius: 12px; color: white; margin: 10px 0; }
        .btn { width: 100%; padding: 14px; border-radius: 15px; border: none; font-weight: 800; cursor: pointer; transition: 0.2s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-withdraw { background: #27ae60; color: white; margin-top: 10px; }
        .btn-withdraw:disabled { background: #444; cursor: not-allowed; }

        /* --- NAV --- */
        nav { background: #0a0a0a; display: flex; padding: 12px 5px 30px; border-top: 1px solid #222; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; color: #555; font-size: 0.7rem; font-weight: bold; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.4rem; margin-bottom: 4px; }

        /* --- OVERLAY --- */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 9999; padding: 20px; }
        .reward-card { background: white; color: #222; padding: 30px; border-radius: 25px; text-align: center; width: 100%; max-width: 320px; }

        .tap-pop { position: fixed; color: white; font-weight: 900; font-size: 2rem; pointer-events: none; animation: flyUp 0.8s forwards; z-index: 1000; text-shadow: 0 0 5px var(--primary); }
        @keyframes flyUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-120px); opacity: 0; } }
    </style>
</head>
<body>

<div class="overlay" id="rewardOverlay">
    <div class="reward-card">
        <h1 id="rIcon" style="font-size: 3rem;">üéÅ</h1>
        <h2 id="rTitle" style="margin:10px 0">TEBRƒ∞KLER!</h2>
        <p>Yumurtayƒ± kƒ±rdƒ±n ve √∂d√ºl kazandƒ±n:</p>
        <div id="rAmount" style="font-size: 2.2rem; font-weight: 900; color: var(--primary); margin: 15px 0;">0.00 TON</div>
        <button class="btn btn-primary" id="nextBtn">SONRAKƒ∞ SEVƒ∞YE</button>
    </div>
</div>

<div class="app-shell">
    <header>
        <div class="stat-pill" id="lvlLabel">LEVEL 1</div>
        <div class="stat-pill" id="topBalance" style="color:#00ccff">0.00 TON</div>
    </header>

    <div class="content">
        <div id="tab-mine" class="tab-panel active">
            <div class="lvl-name" id="lvlName">BRONZ YUMURTA</div>
            <div class="egg-wrapper" id="eggBtn">
                <div class="egg lvl1-egg" id="eggVisual"></div>
            </div>
            <div class="score" id="score">0</div>
            <p id="targetTxt" style="opacity: 0.6; font-size: 0.8rem; font-weight: bold;">HEDEF: 15,000,000</p>
            <div class="progress-container">
                <div class="progress-bar" id="progBar"></div>
            </div>
        </div>

        <div id="tab-wallet" class="tab-panel">
            <h2 style="margin-bottom:20px;">C√ºzdanƒ±m</h2>
            <div class="card">
                <p style="opacity:0.6; font-size:0.8rem;">√áekilebilir Bakiye</p>
                <h1 id="walletBal" style="font-size: 2.5rem; margin: 10px 0;">0.00 TON</h1>
                <p style="font-size:0.7rem; color:#888;">Min. √áekim: 5.00 TON</p>
                <button class="btn btn-withdraw" id="drawBtn" onclick="requestWithdraw()">PARA √áEK</button>
            </div>
            <div class="card">
                <h3>TON C√ºzdan Adresi</h3>
                <input type="text" id="walletAddr" class="input-box" placeholder="UQA123... Adresini Yapƒ±≈ütƒ±r">
                <button class="btn btn-primary" onclick="saveWallet()">ADRESƒ∞ KAYDET</button>
            </div>
        </div>

        <div id="tab-tasks" class="tab-panel">
            <h2 style="margin-bottom:20px;">G√∂revler</h2>
            <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
                <div><strong>Kanalƒ±mƒ±za Katƒ±l</strong><br><small>+100,000 Puan</small></div>
                <button class="btn btn-primary" style="width:auto; padding:8px 15px;" onclick="alert('G√∂rev tamamlandƒ±!')">YAP</button>
            </div>
            <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
                <div><strong>Arkada≈ü Davet Et</strong><br><small>Ki≈üi ba≈üƒ± +50k</small></div>
                <button class="btn btn-primary" style="width:auto; padding:8px 15px;" onclick="alert('Link kopyalandƒ±!')">DAVET</button>
            </div>
        </div>
    </div>

    <nav>
        <div class="nav-item active" onclick="nav('mine', this)"><i>‚õèÔ∏è</i><span>Kaz</span></div>
        <div class="nav-item" onclick="nav('tasks', this)"><i>üìã</i><span>G√∂revler</span></div>
        <div class="nav-item" onclick="nav('wallet', this)"><i>üëõ</i><span>C√ºzdan</span></div>
    </nav>
</div>

<script>
    // --- LOKAL VERƒ∞LER ---
    let level = parseInt(localStorage.getItem('y_lvl')) || 1;
    let clicks = parseInt(localStorage.getItem('y_clicks')) || 0;
    let balance = parseFloat(localStorage.getItem('y_bal')) || 0;
    let address = localStorage.getItem('y_addr') || "";

    const confs = {
        1: { name: "BRONZ YUMURTA", target: 15000000, cls: "lvl1-egg", color: "#cd7f32", icon: "üéÅ" },
        2: { name: "G√úM√ú≈û YUMURTA", target: 45000000, cls: "lvl2-egg", color: "#c0c0c0", icon: "ü•à" },
        3: { name: "ALTIN YUMURTA", target: 71000000, cls: "lvl3-egg", color: "#ffd700", icon: "üèÜ" }
    };

    function updateUI() {
        const c = confs[level] || confs[3];
        document.getElementById('lvlName').innerText = c.name;
        document.getElementById('lvlName').style.color = c.color;
        document.getElementById('lvlLabel').innerText = "LEVEL " + level;
        document.getElementById('score').innerText = clicks.toLocaleString();
        document.getElementById('targetTxt').innerText = "HEDEF: " + c.target.toLocaleString();
        document.getElementById('topBalance').innerText = balance.toFixed(2) + " TON";
        document.getElementById('walletBal').innerText = balance.toFixed(2) + " TON";
        document.getElementById('eggVisual').className = "egg " + c.cls;
        document.getElementById('progBar').style.width = Math.min((clicks/c.target)*100, 100) + "%";
        document.getElementById('walletAddr').value = address;
        
        // √áekim butonu kontrol√º
        document.getElementById('drawBtn').disabled = balance < 5;

        localStorage.setItem('y_lvl', level);
        localStorage.setItem('y_clicks', clicks);
        localStorage.setItem('y_bal', balance);
    }

    function handleTap(e) {
        const c = confs[level];
        if (!c) return;
        
        if (clicks < c.target) {
            clicks += 500000; // HIZLI TEST ƒ∞√áƒ∞N Y√úKSEK ARTI≈û (+1 yapabilirsiniz)
            if (clicks >= c.target) {
                clicks = c.target;
                showReward();
            }
            updateUI();
            createPop(e);
            if(navigator.vibrate) navigator.vibrate(10);
        }
    }

    function showReward() {
        const c = confs[level];
        let win = Math.random() < 0.8 ? (Math.random()*4 + 0.1) : (Math.random()*10 + 5);
        balance += win;
        
        document.getElementById('rAmount').innerText = win.toFixed(2) + " TON";
        document.getElementById('rIcon').innerText = c.icon;
        document.getElementById('rewardOverlay').style.display = 'flex';

        document.getElementById('nextBtn').onclick = () => {
            if(level < 3) {
                level++;
                clicks = 0; // Puan sƒ±fƒ±rlanƒ±r
            }
            document.getElementById('rewardOverlay').style.display = 'none';
            updateUI();
        };
    }

    function saveWallet() {
        address = document.getElementById('walletAddr').value;
        if(address.length < 10) return alert("Ge√ßerli bir TON adresi girin!");
        localStorage.setItem('y_addr', address);
        alert("C√ºzdan adresi kaydedildi!");
    }

    function requestWithdraw() {
        if(!address) return alert("√ñnce c√ºzdan adresinizi kaydetmelisiniz!");
        alert("√áekim talebi alƒ±ndƒ±! ƒ∞ncelemeden sonra " + address + " adresine g√∂nderilecektir.");
        balance = 0; // Bakiyeyi sƒ±fƒ±rla (sim√ºlasyon)
        updateUI();
    }

    function nav(tabId, el) {
        document.querySelectorAll('.tab-panel').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById('tab-' + tabId).classList.add('active');
        el.classList.add('active');
    }

    function createPop(e) {
        const x = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
        const y = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
        const p = document.createElement('div');
        p.className = 'tap-pop'; p.innerText = "+1";
        p.style.left = (x - 15) + "px"; p.style.top = (y - 40) + "px";
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 800);
    }

    document.getElementById('eggBtn').addEventListener('touchstart', (e) => { e.preventDefault(); handleTap(e); });
    document.getElementById('eggBtn').addEventListener('mousedown', handleTap);

    updateUI();
</script>
</body>
</html>
