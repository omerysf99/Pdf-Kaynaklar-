<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Idle Miner Tycoon Clone</title>
    <style>
        :root {
            --sky: #4da6ff;
            --grass: #76c945;
            --dirt: #8d5524;
            --shaft-bg: #3d2b1f;
            --gold: #ffd700;
            --elevator-red: #d32f2f;
        }

        body {
            margin: 0; padding: 0;
            background: #222;
            font-family: 'Arial Black', sans-serif;
            overflow-x: hidden;
            color: white;
        }

        /* --- √úST PANEL --- */
        #hud {
            position: fixed; top: 0; width: 100%; height: 60px;
            background: rgba(0,0,0,0.8);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000; border-bottom: 3px solid var(--gold);
        }

        .money-display { font-size: 24px; color: var(--gold); text-shadow: 2px 2px #000; }

        /* --- D√úNYA YAPISI --- */
        #world { position: relative; width: 100%; }

        #surface {
            height: 180px; background: linear-gradient(to bottom, var(--sky) 70%, var(--grass) 70%);
            display: flex; align-items: flex-end; justify-content: space-around;
            padding-bottom: 10px; border-bottom: 8px solid #4a2d13;
        }

        /* Karakter: Depo Y√∂neticisi (G√∂rseldeki Ye≈üil ≈ûapkalƒ±) */
        .manager-surface { font-size: 40px; position: relative; bottom: 5px; }
        
        /* Depo (Saƒü √ºstteki mavi kule) */
        .warehouse {
            width: 80px; height: 110px; background: #4a90e2;
            border: 4px solid #1c3d5a; border-radius: 10px 10px 0 0;
            text-align: center; font-size: 12px;
        }

        /* --- ASANS√ñR (Sol taraftaki siyah ≈üaft) --- */
        #elevator-shaft {
            position: absolute; left: 10px; top: 120px; bottom: 0;
            width: 70px; background: #1a1a1a; border: 3px solid #333;
            z-index: 50;
        }

        /* Asans√∂r Kabini ve Pembe Karakter */
        #elevator-car {
            position: absolute; width: 55px; height: 75px;
            background: #e91e63; /* Pembe ceketli asans√∂r g√∂revlisi rengi */
            left: 5px; top: 0; border-radius: 8px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: top 1s ease-in-out; border: 2px solid #fff;
        }

        /* --- MADEN KATLARI --- */
        #mine-layers { margin-left: 90px; padding-top: 20px; background: var(--dirt); }

        .floor {
            height: 140px; background: var(--shaft-bg);
            margin-bottom: 15px; border-radius: 0 20px 20px 0;
            position: relative; display: flex; align-items: center;
            border-bottom: 4px solid #222;
        }

        /* Kat Y√∂neticisi (Mavi Ceketli G√∂zl√ºkl√º) */
        .floor-manager {
            width: 50px; height: 70px; margin-left: 10px;
            background: #2196f3; border-radius: 10px;
            display: flex; align-items: center; justify-content: center; font-size: 30px;
        }

        /* Madenciler (Baretli Sarƒ± Karakterler) */
        .miners-group { display: flex; gap: 10px; margin-left: 20px; }
        .miner-active { font-size: 35px; animation: mine-swing 0.5s infinite alternate; }

        @keyframes mine-swing {
            from { transform: rotate(0deg); } to { transform: rotate(-20deg); }
        }

        /* Kat Seviye Butonu (G√∂rseldeki Mavi Level Kutusu) */
        .level-box {
            position: absolute; right: 20px; top: 20px;
            width: 60px; height: 60px; background: #4da6ff;
            border: 3px solid #fff; border-radius: 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 4px #1c3d5a;
        }

        .level-box:active { transform: translateY(2px); box-shadow: 0 2px #1c3d5a; }

        /* Kaynak Birikme Barƒ± */
        .stock-bar {
            position: absolute; bottom: 15px; left: 80px; right: 100px;
            height: 15px; background: #000; border-radius: 10px; overflow: hidden;
        }
        .stock-fill { height: 100%; width: 0%; background: var(--gold); }

    </style>
</head>
<body>

    <div id="hud">
        <div class="money-display">üí∞ <span id="total-money">0</span></div>
    </div>

    <div id="world">
        <div id="surface">
            <div class="manager-surface">üë®‚Äçüåæ</div> <div class="warehouse">
                <div style="background:#2c3e50; padding:2px;">LEVEL 10</div>
                <div style="font-size:30px;">üè†</div>
                <div id="warehouse-gold" style="color:gold">0</div>
            </div>
        </div>

        <div id="elevator-shaft">
            <div id="elevator-car">
                <span style="font-size:25px;">üë©‚Äç‚úàÔ∏è</span> <small id="elev-cargo" style="font-weight:bold">0</small>
            </div>
        </div>

        <div id="mine-layers">
            <div class="floor">
                <div class="floor-manager">üë®‚Äçüíº</div> <div class="miners-group">
                    <div class="miner-active">üë∑‚Äç‚ôÇÔ∏è</div>
                </div>
                <div class="stock-bar"><div id="bar-1" class="stock-fill"></div></div>
                <div class="level-box" onclick="upgrade(1)">
                    <span style="font-size:10px">Level</span>
                    <span id="lvl-1">1</span>
                </div>
            </div>

            <div class="floor">
                <div class="floor-manager">üë®‚Äçüíº</div>
                <div class="miners-group">
                    <div class="miner-active">üë∑‚Äç‚ôÇÔ∏è</div>
                    <div class="miner-active" style="animation-delay: 0.2s">üë∑‚Äç‚ôÇÔ∏è</div>
                </div>
                <div class="stock-bar"><div id="bar-2" class="stock-fill"></div></div>
                <div class="level-box" onclick="upgrade(2)" style="background:#f39c12">
                    <span style="font-size:10px">Level</span>
                    <span id="lvl-2">1</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let gameState = {
            money: 0,
            elevatorLoad: 0,
            floors: {
                1: { lvl: 1, stock: 0, cost: 50, power: 10, speed: 1 },
                2: { lvl: 1, stock: 0, cost: 250, power: 45, speed: 0.8 }
            }
        };

        // Otomatik √úretim Barlarƒ±
        function updateProgress() {
            for(let id in gameState.floors) {
                let floor = gameState.floors[id];
                let bar = document.getElementById(`bar-${id}`);
                let currentWidth = parseFloat(bar.style.width) || 0;
                
                if(currentWidth >= 100) {
                    bar.style.width = "0%";
                    floor.stock += floor.power * floor.lvl;
                } else {
                    bar.style.width = (currentWidth + floor.speed) + "%";
                }
            }
            requestAnimationFrame(updateProgress);
        }

        // Asans√∂r D√∂ng√ºs√º (G√∂rseldeki gibi dikey hareket)
        const elevator = document.getElementById('elevator-car');
        async function runElevator() {
            while(true) {
                // Kat 1'e git
                elevator.style.top = "160px";
                await wait(2000);
                collect(1);

                // Kat 2'ye git
                elevator.style.top = "315px";
                await wait(2000);
                collect(2);

                // Y√ºzeye d√∂n ve parayƒ± bo≈üalt
                elevator.style.top = "0px";
                await wait(2500);
                gameState.money += gameState.elevatorLoad;
                gameState.elevatorLoad = 0;
                updateUI();
            }
        }

        function collect(floorId) {
            gameState.elevatorLoad += gameState.floors[floorId].stock;
            gameState.floors[floorId].stock = 0;
            updateUI();
        }

        function upgrade(id) {
            let f = gameState.floors[id];
            if(gameState.money >= f.cost) {
                gameState.money -= f.cost;
                f.lvl++;
                f.cost *= 2;
                updateUI();
            }
        }

        function updateUI() {
            document.getElementById('total-money').innerText = Math.floor(gameState.money).toLocaleString();
            document.getElementById('elev-cargo').innerText = gameState.elevatorLoad;
            document.getElementById('lvl-1').innerText = gameState.floors[1].lvl;
            document.getElementById('lvl-2').innerText = gameState.floors[2].lvl;
        }

        const wait = ms => new Promise(res => setTimeout(res, ms));

        // Ba≈ülat
        updateProgress();
        runElevator();
    </script>
</body>
</html>
