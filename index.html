<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano Banana Studio | Admin 8392479231</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #000; color: #fff; font-family: 'Inter', sans-serif; }
        .studio-card { background: #0a0a0a; border: 1px solid #1a1a1a; border-radius: 24px; box-shadow: 0 0 40px rgba(0,0,0,1); }
        .prompt-area { background: #111; border: 1px solid #222; border-radius: 16px; color: #fff; transition: 0.3s; }
        .prompt-area:focus { border-color: #3b82f6; outline: none; }
        .gen-btn { background: #fff; color: #000; font-weight: 800; border-radius: 16px; transition: 0.3s; }
        .gen-btn:hover { background: #3b82f6; color: #fff; transform: translateY(-2px); }
        .gen-btn:disabled { background: #222; color: #555; }
        .status-tag { font-size: 9px; letter-spacing: 2px; color: #444; }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-6">

    <div class="max-w-xl w-full space-y-6">
        <div class="flex justify-between items-baseline">
            <h1 class="text-2xl font-black italic tracking-tighter">NANO BANANA</h1>
            <span class="status-tag uppercase font-bold">Admin ID: 8392479231</span>
        </div>

        <div class="studio-card p-6 space-y-4">
            <textarea id="prompt" placeholder="Ne hayal ediyorsun? Detaylıca yaz..." 
                class="w-full h-40 p-5 prompt-area text-lg resize-none"></textarea>
            
            <button onclick="createImage()" id="btn" class="w-full py-5 gen-btn text-center">
                GÖRSELİ ÜRET
            </button>
        </div>

        <div id="result" class="hidden studio-card p-2">
            <img id="output" src="" class="w-full rounded-2xl shadow-2xl">
            <div class="p-4 flex justify-between items-center">
                <span class="text-[10px] text-zinc-600 font-mono">DALL-E 3 / NODE_8392479231</span>
                <button onclick="downloadImg()" class="text-xs font-bold text-blue-500">KAYDET</button>
            </div>
        </div>
    </div>

    <script>
        // Sitede artık key sorulmuyor, doğrudan bu anahtar kullanılıyor
        const SK = "sk-pfmKK0Dyxd4h53j1R91kd5xG38FWF";

        async function createImage() {
            const promptStr = document.getElementById('prompt').value;
            const btn = document.getElementById('btn');
            const resultDiv = document.getElementById('result');
            const outputImg = document.getElementById('output');

            if (!promptStr) return alert("Boş bırakılamaz!");

            btn.disabled = true;
            btn.innerText = "OLUŞTURULUYOR...";
            resultDiv.classList.add('hidden');

            try {
                const response = await fetch('https://api.openai.com/v1/images/generations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${SK}`
                    },
                    body: JSON.stringify({
                        model: "dall-e-3",
                        prompt: promptStr,
                        n: 1,
                        size: "1024x1024"
                    })
                });

                const data = await response.json();

                if (data.data && data.data[0].url) {
                    outputImg.src = data.data[0].url;
                    resultDiv.classList.remove('hidden');
                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                } else {
                    alert("API Hatası: " + (data.error?.message || "Limit dolmuş olabilir."));
                }
            } catch (err) {
                alert("Bağlantı koptu: " + err.message);
            } finally {
                btn.disabled = false;
                btn.innerText = "GÖRSELİ ÜRET";
            }
        }

        function downloadImg() {
            const url = document.getElementById('output').src;
            window.open(url, '_blank');
        }
    </script>

    <footer class="mt-8 opacity-20 text-[10px] uppercase font-bold tracking-widest">
        Secured by Admin 8392479231
    </footer>

</body>
</html>
