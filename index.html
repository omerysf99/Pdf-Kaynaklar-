<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flappy Wallet Ultimate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap');
        
        body { 
            background-color: #4eb5d3; 
            font-family: 'Poppins', sans-serif; 
            margin: 0; 
            overflow: hidden;
            user-select: none;
        }

        .page { display: none; height: calc(100vh - 70px); overflow-y: auto; }
        .page.active { display: block; }

        #game-canvas {
            display: none;
            position: absolute;
            top: 0; left: 0;
            z-index: 50;
        }

        .ground-anim {
            height: 20px;
            background: repeating-linear-gradient(45deg, #8bc34a, #8bc34a 10px, #aed581 10px, #aed581 20px);
            position: absolute;
            bottom: 70px;
            width: 200%;
            animation: moveGround 2s linear infinite;
        }

        @keyframes moveGround {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        .tab-button.active { color: #0088cc; transform: scale(1.1); }
        
        /* C√ºzdan Ku≈ü Karakteri */
        .pixel-bird {
            width: 40px; height: 30px; background: #9c5c3c;
            border: 3px solid #333; border-radius: 6px;
            box-shadow: inset -4px -4px 0 rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

<div class="max-w-md mx-auto h-screen flex flex-col relative bg-[#4eb5d3]">
    
    <canvas id="game-canvas"></canvas>

    <div id="flappy-page" class="page active">
        <div class="p-4 grid grid-cols-2 gap-3">
            <div class="bg-white rounded-2xl p-3 shadow-lg">
                <div class="text-[11px] text-gray-500 font-bold uppercase tracking-tighter">‚ù§Ô∏è Attempts Today</div>
                <div class="flex items-center justify-between">
                    <span id="heart-count" class="text-xl font-extrabold text-blue-600">10</span>
                    <button class="bg-blue-500 text-white text-[10px] px-3 py-1 rounded-full font-bold shadow-md">INCREASE</button>
                </div>
            </div>
            <div class="bg-white rounded-2xl p-2 shadow-lg text-[10px] font-bold">
                <div class="flex justify-between border-b pb-1"><span>üèÜ TODAY</span> <span class="text-blue-500">7.98</span></div>
                <div class="flex justify-between py-1"><span>üèÜ ALL-TIME</span> <span class="text-blue-500">7.98</span></div>
                <div class="flex justify-between pt-1"><span>üöÄ MULTIPLIER</span> <span class="text-red-500">x0.00</span></div>
            </div>
        </div>

        <div class="px-4 flex gap-2">
            <div class="bg-yellow-400 text-white font-extrabold p-4 rounded-xl text-center text-xs shadow-[0_4px_0_#b8860b] flex-1">CW PASS</div>
            <div class="bg-blue-600/80 border-2 border-dashed border-white/50 text-white p-4 rounded-xl text-[10px] flex-[2] flex items-center justify-center font-bold">
                üéÅ FREE DAILY LOTTERY
            </div>
        </div>

        <div class="flex-grow flex flex-col items-center justify-center gap-10 relative">
            <div class="pixel-bird flex items-center justify-center text-[10px] text-white font-bold">CW</div>
            
            <button id="play-btn" class="bg-white p-6 rounded-3xl shadow-2xl border-b-8 border-gray-300 active:border-b-0 active:translate-y-1 transition-all">
                <div class="w-0 h-0 border-t-[20px] border-t-transparent border-l-[35px] border-l-green-500 border-b-[20px] border-b-transparent ml-2"></div>
            </button>
        </div>
    </div>

    <div id="rating-page" class="page p-6">
        <h1 class="text-2xl font-bold text-white mb-4">Global Ranking</h1>
        <div class="bg-white/20 rounded-xl p-4 text-white">Liderlik tablosu y√ºkleniyor...</div>
    </div>

    <div id="friends-page" class="page p-6">
        <h1 class="text-2xl font-bold text-white mb-4">Friends</h1>
        <div class="bg-white rounded-xl p-4 text-center">Arkada≈ülarƒ±nƒ± davet et, +5 ‚ù§Ô∏è kazan!</div>
    </div>

    <div id="wallet-page" class="page p-6">
        <h1 class="text-2xl font-bold text-white mb-4">My Wallet</h1>
        <div class="bg-blue-900 rounded-2xl p-6 text-white shadow-2xl">
            <div class="text-sm opacity-70">Balance</div>
            <div class="text-3xl font-bold">0.00 CW</div>
        </div>
    </div>

    <div id="tasks-page" class="page p-6">
        <h1 class="text-2xl font-bold text-white mb-4">Daily Tasks</h1>
        <div class="space-y-3">
            <div class="bg-white p-3 rounded-lg flex justify-between"><span>Follow Twitter</span> <b class="text-green-500">+100 CW</b></div>
        </div>
    </div>

    <div class="city-bg absolute bottom-[70px] w-full h-32 bg-gradient-to-t from-[#89c46e] to-transparent -z-10"></div>
    <div class="ground-anim"></div>

    <div class="h-[70px] bg-white border-t flex justify-around items-center z-[100]">
        <button onclick="showPage('flappy')" class="tab-button active text-center flex flex-col items-center">
            <span class="text-2xl">üéÆ</span><span class="text-[10px] font-bold">Flappy</span>
        </button>
        <button onclick="showPage('rating')" class="tab-button text-center flex flex-col items-center">
            <span class="text-2xl">‚≠ê</span><span class="text-[10px] font-bold">Rating</span>
        </button>
        <button onclick="showPage('friends')" class="tab-button text-center flex flex-col items-center">
            <span class="text-2xl">üë•</span><span class="text-[10px] font-bold">Friends</span>
        </button>
        <button onclick="showPage('wallet')" class="tab-button text-center flex flex-col items-center">
            <span class="text-2xl">üí∞</span><span class="text-[10px] font-bold">Wallet</span>
        </button>
        <button onclick="showPage('tasks')" class="tab-button text-center flex flex-col items-center">
            <span class="text-2xl">‚úÖ</span><span class="text-[10px] font-bold">Tasks</span>
        </button>
    </div>
</div>

<script>
    // --- SEKME Y√ñNETƒ∞Mƒ∞ ---
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
        
        document.getElementById(pageId + '-page').classList.add('active');
        event.currentTarget.classList.add('active');
        
        if(pageId !== 'flappy') {
            document.getElementById('game-canvas').style.display = 'none';
        }
    }

    // --- OYUN MOTORU (FLAPPY BIRD) ---
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    let animationId;
    let hearts = 10; // Herkese 10 kalp!

    canvas.width = window.innerWidth > 450 ? 450 : window.innerWidth;
    canvas.height = window.innerHeight - 70;

    const bird = {
        x: 50, y: 200, w: 38, h: 28,
        gravity: 0.2, jump: 4.5, velocity: 0,
        draw() {
            ctx.fillStyle = "#9c5c3c";
            ctx.fillRect(this.x, this.y, this.w, this.h);
            ctx.strokeStyle = "#333";
            ctx.lineWidth = 3;
            ctx.strokeRect(this.x, this.y, this.w, this.h);
            ctx.fillStyle = "white";
            ctx.font = "bold 10px Arial";
            ctx.fillText("CW", this.x+8, this.y+18);
        },
        update() {
            this.velocity += this.gravity;
            this.y += this.velocity;
            if(this.y + this.h > canvas.height - 20) this.die();
        },
        die() {
            cancelAnimationFrame(animationId);
            hearts--;
            document.getElementById('heart-count').innerText = hearts;
            alert("Oyun Bitti! Kalan Kalp: " + hearts);
            resetGame();
        }
    };

    let pipes = [];
    function spawnPipe() {
        let gap = 120;
        let minHeight = 50;
        let pos = Math.random() * (canvas.height - gap - 200) + 50;
        pipes.push({ x: canvas.width, y: pos, gap: gap });
    }

    function resetGame() {
        bird.y = 200; bird.velocity = 0;
        pipes = [];
        canvas.style.display = 'none';
    }

    function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#4eb5d3";
        ctx.fillRect(0,0, canvas.width, canvas.height);

        bird.update();
        bird.draw();

        if(Date.now() % 1500 < 20) spawnPipe();

        pipes.forEach((p, i) => {
            p.x -= 2;
            ctx.fillStyle = "#2ecc71";
            ctx.fillRect(p.x, 0, 50, p.y);
            ctx.fillRect(p.x, p.y + p.gap, 50, canvas.height);

            // √áarpƒ±≈üma
            if(bird.x + bird.w > p.x && bird.x < p.x + 50 &&
               (bird.y < p.y || bird.y + bird.h > p.y + p.gap)) {
                bird.die();
            }
        });

        animationId = requestAnimationFrame(gameLoop);
    }

    // Play Butonu Tetikleyici
    document.getElementById('play-btn').addEventListener('click', () => {
        if(hearts <= 0) {
            alert("Kalbin bitti! Admin ID 8392479231 ile ileti≈üime ge√ß.");
            return;
        }
        canvas.style.display = 'block';
        gameLoop();
    });

    window.addEventListener('keydown', (e) => { if(e.code === 'Space') bird.velocity = -bird.jump; });
    canvas.addEventListener('touchstart', () => bird.velocity = -bird.jump);

</script>
</body>
</html>
