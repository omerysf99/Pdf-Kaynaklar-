<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Spyder - Cyber Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00a3ff;
            --bg: #050a12;
            --card: #111b2b;
            --spyder: #ff4444;
            --text-dim: #8e99a8;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { background-color: var(--bg); color: white; font-family: 'Inter', sans-serif; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        /* HEADER & WITHDRAW BUTTONS */
        header { padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .bal-card { 
            background: var(--card); padding: 12px 15px; border-radius: 18px; 
            display: flex; align-items: center; justify-content: space-between; 
            border: 1px solid rgba(255,255,255,0.05); 
        }
        .bal-info { display: flex; align-items: center; gap: 12px; }
        .coin-icon { width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #0088cc; }
        .coin-icon img { width: 20px; }
        .bal-val-group { display: flex; flex-direction: column; }
        .bal-label { font-size: 9px; color: var(--text-dim); text-transform: uppercase; }
        .bal-num { font-family: 'Orbitron'; font-size: 14px; font-weight: 700; }
        
        .wd-btn { 
            background: var(--primary); color: white; border: none; padding: 6px 12px; 
            border-radius: 10px; font-family: 'Orbitron'; font-size: 10px; font-weight: 700; cursor: pointer;
        }

        /* MAIN CLICKER AREA */
        main { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding-bottom: 80px; }
        
        .clicker-container { position: relative; width: 260px; height: 260px; display: flex; align-items: center; justify-content: center; }
        .main-logo-orb {
            width: 200px; height: 200px; background: radial-gradient(circle, #1a2a44 0%, #070d16 100%);
            border: 5px solid var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 40px rgba(0,163,255,0.3), inset 0 0 20px rgba(0,163,255,0.2);
            transition: transform 0.1s; z-index: 10; cursor: pointer;
        }
        .main-logo-orb:active { transform: scale(0.92); }
        .main-logo-orb img { width: 90px; pointer-events: none; filter: drop-shadow(0 0 10px #fff); }

        /* U√áAN LOGOLAR */
        .ton-particle {
            position: absolute; pointer-events: none; width: 25px; height: 25px;
            animation: flyOut 0.8s ease-out forwards; z-index: 100;
        }
        @keyframes flyOut {
            0% { transform: translate(0,0) scale(1) rotate(0deg); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0.5) rotate(120deg); opacity: 0; }
        }

        /* STATS */
        .pool-text { font-family: 'Orbitron'; font-size: 46px; font-weight: 900; color: white; margin-top: 20px; }
        .speed-badge { 
            background: rgba(0,163,255,0.1); border: 1px solid var(--primary); 
            padding: 5px 15px; border-radius: 20px; color: var(--primary); 
            font-size: 13px; font-weight: 700; margin-top: 10px;
        }

        /* ACTIONS */
        .action-row { display: flex; gap: 10px; width: 100%; max-width: 350px; margin-top: 30px; }
        .btn-act { flex: 1; height: 55px; border-radius: 15px; border: none; font-family: 'Orbitron'; font-weight: 700; cursor: pointer; }
        .btn-claim { background: var(--primary); color: white; }
        .btn-boost { background: transparent; border: 2px solid var(--primary); color: var(--primary); }

        /* MODAL */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal-cont { background: var(--card); width: 100%; max-width: 380px; padding: 25px; border-radius: 25px; border: 1px solid var(--primary); }
        .m-title { font-family: 'Orbitron'; color: var(--primary); text-align: center; margin-bottom: 20px; }
        .m-input { width: 100%; padding: 15px; background: #070d16; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; color: white; margin-bottom: 15px; outline: none; }
        .m-info { background: rgba(250, 204, 21, 0.1); border: 1px dashed #facc15; padding: 12px; border-radius: 12px; font-size: 12px; text-align: center; margin-bottom: 15px; }

        /* NAVBAR (G√ñRSEL) */
        nav { 
            position: fixed; bottom: 20px; left: 15px; right: 15px; height: 70px; 
            background: #111b2b; border-radius: 22px; display: flex; justify-content: space-around; 
            align-items: center; border: 1px solid rgba(255,255,255,0.05); pointer-events: none; 
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--text-dim); font-size: 10px; opacity: 0.6; }
        .nav-item.active { color: var(--primary); opacity: 1; }
    </style>
</head>
<body onload="init()">

    <header>
        <div class="bal-card">
            <div class="bal-info">
                <div class="coin-icon"><img src="https://cryptologos.cc/logos/toncoin-ton-logo.png"></div>
                <div class="bal-val-group">
                    <span class="bal-label">TON BALANCE</span>
                    <span class="bal-num" id="ton-h">0.00000</span>
                </div>
            </div>
            <button class="wd-btn" onclick="openM('withdraw')">WITHDRAW</button>
        </div>
        <div class="bal-card">
            <div class="bal-info">
                <div class="coin-icon" style="background:var(--spyder);">üï∑Ô∏è</div>
                <div class="bal-val-group">
                    <span class="bal-label">SPYDER BALANCE</span>
                    <span class="bal-num" id="spy-h" style="color:var(--spyder);">0.00</span>
                </div>
            </div>
            <button class="wd-btn" style="background:var(--spyder);" onclick="alert('Spyder yakƒ±nda!')">WITHDRAW</button>
        </div>
    </header>

    <main>
        <div class="clicker-container">
            <div class="main-logo-orb" id="target" onclick="clickAction(event)">
                <img src="https://cryptologos.cc/logos/toncoin-ton-logo.png">
            </div>
        </div>

        <div class="pool-text" id="pool-v">0.00000</div>
        <div class="speed-badge"><span id="speed-v">100.00</span> GH/s ‚ö°</div>

        <div class="action-row">
            <button class="btn-act btn-claim" onclick="claim()">CLAIM</button>
            <button class="btn-act btn-boost" onclick="openM('boost')">BOOST</button>
        </div>
    </main>

    <div class="modal" id="m-withdraw">
        <div class="modal-cont">
            <h2 class="m-title">WITHDRAW TON</h2>
            <input type="number" id="wd-amt" class="m-input" value="0.10" step="0.01" oninput="calc()">
            <div class="m-info">
                Gereken Reklam: <span id="req-ads" style="font-weight:900;">150</span> üì∫<br>
                ƒ∞zlenen: <span id="cur-ads">0</span>
            </div>
            <input type="text" class="m-input" placeholder="UQ... Wallet Address">
            <button class="btn-act btn-claim" style="width:100%;" onclick="processWD()">G√ñNDER</button>
            <p style="text-align:center; color:var(--spyder); margin-top:20px; cursor:pointer;" onclick="closeM()">KAPAT</p>
        </div>
    </div>

    <div class="modal" id="m-boost">
        <div class="modal-cont">
            <h2 class="m-title">BOOST SPEED</h2>
            <div class="m-info" style="border-color:var(--primary); color:white;">
                Her reklam hƒ±zƒ± <b>+1.00 GH/s</b> artƒ±rƒ±r.<br>
                Bonus: <b>+0.0000001 TON/sn</b>
            </div>
            <button class="btn-act btn-claim" style="width:100%;" onclick="watchAd()">REKLAM ƒ∞ZLE üì∫</button>
            <p style="text-align:center; color:var(--spyder); margin-top:20px; cursor:pointer;" onclick="closeM()">KAPAT</p>
        </div>
    </div>

    <nav>
        <div class="nav-item"><i>üíº</i>Wallet</div>
        <div class="nav-item"><i>üë•</i>Friends</div>
        <div class="nav-item active"><i>üåÄ</i>Home</div>
        <div class="nav-item"><i>üéØ</i>Tasks</div>
        <div class="nav-item"><i>‚öôÔ∏è</i>Settings</div>
    </nav>

    <script>
        const TG = window.Telegram.WebApp;
        let data = { ton: 0, pool: 0, speed: 100.0, ads: 0 };

        function init() {
            TG.expand();
            setInterval(mine, 1000);
        }

        function mine() {
            // MATEMATƒ∞KSEL G√úNCELLEME: 
            // 1 GH/s = 0.0000001 TON/s kazandƒ±rƒ±r.
            // 100 GH/s = 0.00001 TON/s kazandƒ±rƒ±r.
            data.pool += (data.speed * 0.0000001);
            
            document.getElementById('pool-v').innerText = data.pool.toFixed(6);
            document.getElementById('ton-h').innerText = data.ton.toFixed(5);
            document.getElementById('speed-v').innerText = data.speed.toFixed(2);
            document.getElementById('cur-ads').innerText = data.ads;
        }

        function clickAction(e) {
            TG.HapticFeedback.impactOccurred('light');
            data.pool += 0.0000001; // Tƒ±klama ba≈üƒ±na 1 GH/s'lik saniyelik kazan√ß kadar bonus

            const target = document.getElementById('target');
            for(let i=0; i<3; i++) {
                const p = document.createElement('img');
                p.src = "https://cryptologos.cc/logos/toncoin-ton-logo.png";
                p.className = "ton-particle";
                const rect = target.getBoundingClientRect();
                p.style.left = (e.clientX - rect.left) + "px";
                p.style.top = (e.clientY - rect.top) + "px";
                const tx = (Math.random() - 0.5) * 300;
                const ty = -150 - (Math.random() * 150);
                p.style.setProperty('--tx', tx + "px");
                p.style.setProperty('--ty', ty + "px");
                target.appendChild(p);
                setTimeout(() => p.remove(), 800);
            }
        }

        function claim() {
            if(data.pool <= 0) return;
            data.ton += data.pool;
            data.pool = 0;
            TG.HapticFeedback.notificationOccurred('success');
        }

        function watchAd() {
            data.ads++;
            data.speed += 1.0;
            TG.showAlert("Hƒ±z +1.00 GH/s Artƒ±rƒ±ldƒ±!\nEkstra Kazan√ß: +0.0000001 TON/sn");
            closeM();
        }

        function openM(type) {
            document.getElementById('m-' + type).style.display = 'flex';
            if(type === 'withdraw') calc();
        }

        function closeM() {
            document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
        }

        function calc() {
            const amt = parseFloat(document.getElementById('wd-amt').value) || 0;
            document.getElementById('req-ads').innerText = Math.ceil((amt / 0.01) * 15);
        }

        function processWD() {
            const amt = parseFloat(document.getElementById('wd-amt').value);
            const req = (amt / 0.01) * 15;
            if(amt < 0.10) return TG.showAlert("Min 0.10 TON!");
            if(data.ads < req) return TG.showAlert("Reklam yetersiz!");
            TG.showAlert("Talebiniz kuyruƒüa alƒ±ndƒ±.");
            data.ton -= amt;
            closeM();
        }
    </script>
</body>
</html>
