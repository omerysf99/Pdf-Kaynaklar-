<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TapSwap Lucky Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0f1014;
            --gold: #ffcf4d;
            --usdt: #26A17B;
            --doge: #ba9f33;
            --not: #ffffff;
        }

        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Üst Bakiye Paneli */
        .stats-container {
            margin-top: 30px;
            text-align: center;
            width: 100%;
        }

        .main-score {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 5px;
            color: var(--gold);
        }

        .crypto-balances {
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 0.85rem;
            color: #aaa;
        }

        .crypto-balances span b { color: #eee; }

        /* Dokunma Alanı */
        .tap-zone {
            position: relative;
            width: 100%;
            height: 50vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .box-container {
            width: 260px;
            height: 260px;
            position: relative;
            cursor: pointer;
            transition: transform 0.05s active;
        }

        .box-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 20px rgba(255, 207, 77, 0.2));
        }

        /* Uçan Sayı Animasyonu */
        .tap-number {
            position: absolute;
            font-size: 2.2rem;
            font-weight: 900;
            pointer-events: none;
            animation: floatUp 0.7s ease-out forwards;
            z-index: 100;
        }

        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-150px); opacity: 0; }
        }

        /* Alt Sekmeler (Kutu Değiştirici) */
        .bottom-nav {
            width: 90%;
            background: #1c1f24;
            margin-bottom: 20px;
            border-radius: 20px;
            display: flex;
            padding: 10px;
            justify-content: space-around;
            border: 1px solid #333;
        }

        .nav-tab {
            text-align: center;
            font-size: 0.7rem;
            color: #555;
            cursor: pointer;
            transition: 0.3s;
        }

        .nav-tab img {
            width: 30px;
            height: 30px;
            display: block;
            margin: 0 auto 5px;
            opacity: 0.4;
        }

        .nav-tab.active { color: var(--gold); }
        .nav-tab.active img { opacity: 1; filter: drop-shadow(0 0 5px var(--gold)); }

        /* Sarsıntı */
        .shake { animation: shakeEffect 0.05s infinite; }
        @keyframes shakeEffect {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-2px, -1px); }
            100% { transform: translate(1px, 2px); }
        }
    </style>
</head>
<body>

    <div class="stats-container">
        <div class="main-score" id="score">0</div>
        <div class="crypto-balances">
            <span>USDT: <b id="bal-usdt">0.000</b></span>
            <span>DOGE: <b id="bal-doge">0</b></span>
            <span>NOT: <b id="bal-not">0</b></span>
        </div>
    </div>

    <div class="tap-zone" id="tap-zone">
        <div class="box-container" id="main-box" onmousedown="handleTap(event)" ontouchstart="handleTap(event)">
            <img src="secret.jpg" id="box-img">
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-tab active" onclick="switchBox('secret.jpg', this)">
            <img src="secret.jpg"> SECRET
        </div>
        <div class="nav-tab" onclick="switchBox('rainbow.jpg', this)">
            <img src="rainbow.jpg"> RAINBOW
        </div>
        <div class="nav-tab" onclick="switchBox('fastive.jpg', this)">
            <img src="fastive.jpg"> FASTIVE
        </div>
    </div>

    <script>
        let balances = { usdt: 0, doge: 0, not: 0, total: 0 };

        function switchBox(img, el) {
            document.getElementById('box-img').src = img;
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
        }

        function handleTap(e) {
            e.preventDefault();
            
            // Dokunma koordinatlarını al
            const clientX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
            const clientY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

            // Şans Mantığı
            const rand = Math.random();
            let amount = 0;
            let type = "";
            let color = "";

            if (rand < 0.1) { // %10 şans USDT
                amount = parseFloat((Math.random() * (0.01 - 0.001) + 0.001).toFixed(3));
                balances.usdt += amount;
                type = "USDT";
                color = "var(--usdt)";
                document.getElementById('bal-usdt').innerText = balances.usdt.toFixed(3);
            } else if (rand < 0.5) { // %40 şans DOGE
                amount = Math.floor(Math.random() * 5) + 1; // Hızlı tıklama için küçük miktar
                balances.doge += amount;
                type = "DOGE";
                color = "var(--doge)";
                document.getElementById('bal-doge').innerText = balances.doge;
            } else { // %50 şans NOT
                amount = Math.floor(Math.random() * 3) + 1;
                balances.not += amount;
                type = "NOT";
                color = "#fff";
                document.getElementById('bal-not').innerText = balances.not;
            }

            // Toplam Skor
            balances.total += 1;
            document.getElementById('score').innerText = balances.total;

            // Animasyonlar
            showFloatingText(clientX, clientY, `+${amount}`, color);
            triggerShake();
        }

        function showFloatingText(x, y, text, color) {
            const num = document.createElement('div');
            num.className = 'tap-number';
            num.innerText = text;
            num.style.left = `${x - 20}px`;
            num.style.top = `${y - 20}px`;
            num.style.color = color;
            document.body.appendChild(num);
            setTimeout(() => num.remove(), 700);
        }

        function triggerShake() {
            const box = document.getElementById('main-box');
            box.style.transform = "scale(0.92)";
            document.body.classList.add('shake');
            setTimeout(() => {
                box.style.transform = "scale(1)";
                document.body.classList.remove('shake');
            }, 50);
        }
    </script>
</body>
</html>
