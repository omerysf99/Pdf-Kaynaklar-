<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Clicker - KazanÃ§</title>
    <script src="https://adexora.com/cdn/ads.js?id=1545"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
        }
        .container {
            text-align: center;
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        #emoji-btn {
            font-size: 80px;
            cursor: pointer;
            transition: transform 0.1s;
            user-select: none;
            display: inline-block;
        }
        #emoji-btn:active {
            transform: scale(0.9);
        }
        .stats {
            margin-top: 20px;
        }
        .balance {
            font-size: 24px;
            color: #2ecc71;
            font-weight: bold;
        }
        .clicks {
            color: #666;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="clicks">TÄ±klama: <span id="click-count">0</span></div>
    <div class="balance">Bakiye: <span id="balance-amount">0.00000</span>$</div>
    <hr>
    <div id="emoji-btn">ðŸ’°</div>
    <p>Her 10 tÄ±klamada bir reklam Ã§Ä±kar!</p>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // TODO: BurayÄ± kendi Firebase bilgilerinizle deÄŸiÅŸtirin!
  const firebaseConfig = {
    apiKey: "BURAYA_API_KEY",
    authDomain: "PROJE_ID.firebaseapp.com",
    projectId: "PROJE_ID",
    storageBucket: "PROJE_ID.appspot.com",
    messagingSenderId: "ID",
    appId: "APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // DeÄŸiÅŸkenler
  let clicks = 0;
  let balance = 0.0;
  const userId = "user_123"; // Basitlik iÃ§in sabit ID, normalde Auth ile alÄ±nÄ±r

  const clickEl = document.getElementById('click-count');
  const balanceEl = document.getElementById('balance-amount');
  const emojiBtn = document.getElementById('emoji-btn');

  // Firebase'den verileri yÃ¼kle
  async function loadData() {
    const docRef = doc(db, "users", userId);
    const docSnap = await getDoc(docRef);
    if (docSnap.exists()) {
        const data = docSnap.data();
        clicks = data.clicks || 0;
        balance = data.balance || 0;
        updateUI();
    }
  }

  // Verileri Firebase'e kaydet
  async function saveData() {
    await setDoc(doc(db, "users", userId), {
        clicks: clicks,
        balance: balance
    }, { merge: true });
  }

  function updateUI() {
    clickEl.innerText = clicks;
    balanceEl.innerText = balance.toFixed(5);
  }

  function showAd() {
    window.showAdexora()
      .then(() => {
          console.log("Reklam baÅŸarÄ±yla izlendi.");
          // Reklam sonrasÄ± Ã¶dÃ¼l vermek istersen buraya ekleyebilirsin
      })
      .catch(e => {
          console.error("Reklam yÃ¼klenemedi:", e);
      });
  }

  emojiBtn.addEventListener('click', () => {
    clicks++;
    balance += 0.00001;
    
    updateUI();
    saveData(); // Her tÄ±klamada kaydeder (GeliÅŸmiÅŸ versiyonlarda debouncing yapÄ±lÄ±r)

    if (clicks % 10 === 0) {
        showAd();
    }
  });

  loadData();
</script>

</body>
</html>
