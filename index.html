<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AnimeBtc: Hamster Empire</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono:wght@800&display=swap" rel="stylesheet">
    <style>
        :root {
            --p: #ff4d94; --g: #ffcc00; --bg: #000; --card: #151515; --up: #00ffa3;
            --font-main: 'Inter', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: var(--font-main); }
        body { background: var(--bg); color: #fff; overflow: hidden; height: 100vh; }

        /* --- UI LAYOUT --- */
        .top-stats { padding: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: #080808; border-bottom: 1px solid #1a1a1a; }
        .stat-box { background: #111; padding: 10px; border-radius: 12px; text-align: center; border: 1px solid #222; }
        .stat-label { font-size: 10px; color: #666; font-weight: 800; text-transform: uppercase; }
        .stat-val { font-size: 14px; color: var(--up); font-weight: 900; }

        .viewport { height: calc(100vh - 175px); overflow-y: auto; padding: 20px; position: relative; }
        .view { display: none; }
        .view.active { display: block; }

        /* --- CLICKER SECTION --- */
        .click-area { height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .balance-hero { font-size: 48px; font-weight: 900; margin-bottom: 30px; display: flex; align-items: center; gap: 10px; }
        
        .hamster-btn {
            width: 280px; height: 280px; background: radial-gradient(circle, #222 0%, #000 100%);
            border-radius: 50%; border: 8px solid #1a1a1a; position: relative;
            cursor: pointer; box-shadow: 0 0 50px rgba(255, 77, 148, 0.1);
            transition: transform 0.05s; display: flex; align-items: center; justify-content: center;
        }
        .hamster-btn:active { transform: scale(0.95); }
        .hamster-btn img { width: 180px; pointer-events: none; }

        .energy-info { width: 100%; max-width: 300px; margin-top: 40px; }
        .energy-bar { width: 100%; height: 12px; background: #222; border-radius: 10px; overflow: hidden; margin-top: 8px; }
        .energy-fill { height: 100%; background: linear-gradient(90deg, var(--g), #ffae00); transition: width 0.1s; }

        /* --- UPGRADES --- */
        .card-list { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .card { background: var(--card); border-radius: 20px; padding: 15px; border: 1px solid #222; position: relative; }
        .card:active { transform: scale(0.97); }
        .card-lvl { font-size: 10px; color: var(--p); font-weight: 900; }
        .card-name { font-size: 14px; margin: 8px 0; font-weight: 800; }
        .card-profit { font-size: 11px; color: var(--up); font-weight: 700; }
        .card-price { margin-top: 12px; font-weight: 900; color: var(--g); display: flex; align-items: center; gap: 4px; border-top: 1px solid #222; padding-top: 10px; }

        /* --- NAV --- */
        .nav { position: fixed; bottom: 0; width: 100%; height: 85px; background: #000; border-top: 1px solid #111; display: flex; justify-content: space-around; align-items: center; }
        .nav-link { color: #444; text-align: center; font-size: 11px; font-weight: 800; }
        .nav-link.active { color: var(--p); }

        /* --- FLOATING TEXT --- */
        .floating-text {
            position: absolute; color: white; font-size: 24px; font-weight: 900;
            pointer-events: none; animation: floatUp 0.6s ease-out forwards;
        }
        @keyframes floatUp { from { transform: translateY(0); opacity: 1; } to { transform: translateY(-100px); opacity: 0; } }
    </style>
</head>
<body>

    <div class="top-stats">
        <div class="stat-box">
            <div class="stat-label">TÄ±k BaÅŸÄ± KazanÃ§</div>
            <div class="stat-val" id="tap-ui">+1</div>
        </div>
        <div class="stat-box">
            <div class="stat-label">Saatlik KazanÃ§</div>
            <div class="stat-val" id="profit-ui">+0</div>
        </div>
    </div>

    <main class="viewport">
        <section id="exchange" class="view active">
            <div class="click-area">
                <div class="balance-hero">
                    <span style="color:var(--g)">ðŸ’°</span>
                    <span id="balance-main">0</span>
                </div>
                
                <div class="hamster-btn" id="clicker-node">
                    <img src="https://img.icons8.com/clouds/200/anime.png" alt="coin">
                </div>

                <div class="energy-info">
                    <div style="display:flex; justify-content:space-between; font-size:12px; font-weight:900">
                        <span>âš¡ <span id="energy-curr">1000</span> / 1000</span>
                        <span style="color:var(--p)">BOOST</span>
                    </div>
                    <div class="energy-bar"><div class="energy-fill" id="energy-bar"></div></div>
                </div>
            </div>
        </section>

        <section id="mine" class="view">
            <h2 style="margin-bottom:20px; font-weight:900">Maden & GeliÅŸtirme</h2>
            <div class="card-list" id="market-node"></div>
        </section>
    </main>

    <nav class="nav">
        <div class="nav-link active" onclick="Router.go('exchange', this)"><span>EXCHANGE</span></div>
        <div class="nav-link" onclick="Router.go('mine', this)"><span>MINE</span></div>
    </nav>

    <script>
        const state = {
            balance: 0,
            profit: 0,
            tapPower: 1,
            energy: 1000,
            maxEnergy: 1000,
            cards: [
                { id: 1, n: "TÄ±klama Ã‡ubuÄŸu", lvl: 0, cost: 50, gain: 1, type: 'tap' },
                { id: 2, n: "Anime Fan Grubu", lvl: 0, cost: 250, gain: 10, type: 'profit' },
                { id: 3, n: "Cosplay MaÄŸazasÄ±", lvl: 0, cost: 1200, gain: 55, type: 'profit' },
                { id: 4, n: "Manga YayÄ±ncÄ±", lvl: 0, cost: 5000, gain: 180, type: 'profit' },
                { id: 5, n: "V-Tuber AjansÄ±", lvl: 0, cost: 20000, gain: 450, type: 'profit' }
            ]
        };

        const Engine = {
            init() {
                const saved = localStorage.getItem('hamster_data');
                if(saved) Object.assign(state, JSON.parse(saved));
                
                this.bindEvents();
                this.startLoops();
                this.updateUI();
            },

            bindEvents() {
                document.getElementById('clicker-node').addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    this.handleTap(e.touches[0].clientX, e.touches[0].clientY);
                });
            },

            handleTap(x, y) {
                if(state.energy >= state.tapPower) {
                    state.balance += state.tapPower;
                    state.energy -= state.tapPower;
                    this.spawnText(x, y, `+${state.tapPower}`);
                    this.updateUI();
                }
            },

            spawnText(x, y, text) {
                const el = document.createElement('div');
                el.className = 'floating-text';
                el.style.left = `${x}px`;
                el.style.top = `${y}px`;
                el.innerText = text;
                document.body.appendChild(el);
                setTimeout(() => el.remove(), 600);
            },

            startLoops() {
                // Pasif KazanÃ§
                setInterval(() => {
                    if(state.profit > 0) {
                        state.balance += (state.profit / 3600);
                        this.updateUI();
                    }
                }, 1000);

                // Enerji Yenileme
                setInterval(() => {
                    if(state.energy < state.maxEnergy) {
                        state.energy = Math.min(state.maxEnergy, state.energy + 3);
                        this.updateUI();
                    }
                }, 1000);

                // Otomatik KayÄ±t
                setInterval(() => {
                    localStorage.setItem('hamster_data', JSON.stringify(state));
                }, 5000);
            },

            updateUI() {
                document.getElementById('balance-main').innerText = Math.floor(state.balance).toLocaleString();
                document.getElementById('profit-ui').innerText = `+${state.profit}/sa`;
                document.getElementById('tap-ui').innerText = `+${state.tapPower}`;
                document.getElementById('energy-curr').innerText = state.energy;
                document.getElementById('energy-bar').style.width = `${(state.energy / state.maxEnergy) * 100}%`;
            }
        };

        const Router = {
            go(target, el) {
                document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
                document.getElementById(target).classList.add('active');
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                el.classList.add('active');
                if(target === 'mine') this.renderMarket();
            },

            renderMarket() {
                const node = document.getElementById('market-node');
                node.innerHTML = state.cards.map(c => {
                    const price = Math.floor(c.cost * Math.pow(1.6, c.lvl));
                    return `
                        <div class="card" onclick="upgradeCard(${c.id})">
                            <div class="card-lvl">LVL ${c.lvl}</div>
                            <div class="card-name">${c.n}</div>
                            <div class="card-profit">+${c.gain * (c.lvl+1)} / ${c.type === 'tap' ? 'tÄ±k' : 'sa'}</div>
                            <div class="card-price">ðŸ’° ${price.toLocaleString()}</div>
                        </div>
                    `;
                }).join('');
            }
        };

        function upgradeCard(id) {
            const c = state.cards.find(x => x.id === id);
            const price = Math.floor(c.cost * Math.pow(1.6, c.lvl));
            
            if(state.balance >= price) {
                state.balance -= price;
                c.lvl++;
                if(c.type === 'tap') state.tapPower += c.gain;
                else state.profit += (c.gain * c.lvl);
                
                Router.renderMarket();
                Engine.updateUI();
            }
        }

        window.onload = () => Engine.init();
    </script>
</body>
</html>
