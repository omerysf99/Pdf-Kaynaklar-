<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SpyderCoin - Mining Fan v3</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        :root {
            --primary-blue: #00a3ff;
            --bg-dark: #0a0f18;
            --card-bg: #141c2b;
            --text-main: #ffffff;
            --accent-yellow: #ffcc00;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; margin: 0; padding: 0; }
        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header { padding: 30px 20px; text-align: center; }
        .balance-title { font-size: 13px; color: #8a96a3; letter-spacing: 1px; margin-bottom: 5px; }
        .balance-value { font-size: 42px; font-weight: 800; }

        /* MAVÄ° FAN (GÃ¶rseldeki Gibi) */
        .fan-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fan-blade-wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            animation: rotateFan 2s linear infinite;
        }

        .blade {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 35px;
            height: 85px;
            background: linear-gradient(to bottom, var(--primary-blue), #0055ff);
            border-radius: 50% 50% 10% 10%;
            transform-origin: bottom center;
            opacity: 0.85;
            box-shadow: 0 0 15px var(--primary-blue);
        }

        /* 12 KanatlÄ± YapÄ± */
        .blade:nth-child(1)  { transform: translate(-50%, -100%) rotate(0deg); }
        .blade:nth-child(2)  { transform: translate(-50%, -100%) rotate(30deg); }
        .blade:nth-child(3)  { transform: translate(-50%, -100%) rotate(60deg); }
        .blade:nth-child(4)  { transform: translate(-50%, -100%) rotate(90deg); }
        .blade:nth-child(5)  { transform: translate(-50%, -100%) rotate(120deg); }
        .blade:nth-child(6)  { transform: translate(-50%, -100%) rotate(150deg); }
        .blade:nth-child(7)  { transform: translate(-50%, -100%) rotate(180deg); }
        .blade:nth-child(8)  { transform: translate(-50%, -100%) rotate(210deg); }
        .blade:nth-child(9)  { transform: translate(-50%, -100%) rotate(240deg); }
        .blade:nth-child(10) { transform: translate(-50%, -100%) rotate(270deg); }
        .blade:nth-child(11) { transform: translate(-50%, -100%) rotate(300deg); }
        .blade:nth-child(12) { transform: translate(-50%, -100%) rotate(330deg); }

        .fan-center {
            width: 50px;
            height: 50px;
            background: #1a2436;
            border: 3px solid var(--primary-blue);
            border-radius: 50%;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(0, 163, 255, 0.6);
        }

        @keyframes rotateFan {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .mining-info { text-align: center; margin-top: 10px; }
        .pool-amount { font-size: 26px; font-weight: bold; color: var(--primary-blue); }
        .ghs { font-size: 13px; color: var(--accent-yellow); margin-top: 5px; }

        .btn-group { display: flex; gap: 12px; padding: 20px; justify-content: center; }
        .btn {
            flex: 1; max-width: 150px; padding: 14px; border-radius: 12px; border: none;
            font-weight: bold; font-size: 15px; cursor: pointer; transition: 0.2s;
        }
        .btn-claim { background: var(--primary-blue); color: white; }
        .btn-boost { background: #2a3547; color: white; }
        .btn:active { transform: scale(0.95); }

        /* BOOST PANEL (AÃ§Ä±lÄ±r MenÃ¼) */
        #boost-panel {
            display: none;
            position: fixed;
            bottom: 0; left: 0; width: 100%;
            background: #111823;
            border-top: 2px solid var(--primary-blue);
            border-radius: 20px 20px 0 0;
            padding: 20px;
            z-index: 2000;
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .boost-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        .boost-item {
            background: #1c273a; padding: 12px; border-radius: 10px; text-align: center;
            border: 1px solid #2a3547; cursor: pointer; font-size: 13px;
        }
        .boost-item:hover { border-color: var(--primary-blue); }
        .close-boost { text-align: right; color: #ff4444; font-weight: bold; cursor: pointer; }

        /* NAV */
        .nav-bar {
            position: fixed; bottom: 0; width: 100%; height: 70px;
            background: #080f1a; display: flex; justify-content: space-around;
            align-items: center; border-top: 1px solid #1e2a3e;
        }
        .nav-item { color: #5c6a7e; text-align: center; font-size: 10px; }
        .nav-item.active { color: var(--primary-blue); }

        /* REKLAM MODAL */
        #ad-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 3000; flex-direction: column;
            align-items: center; justify-content: center; text-align: center; padding: 20px;
        }
    </style>
</head>
<body>

    <header>
        <div class="balance-title">TOPLAM BAKÄ°YE</div>
        <div class="balance-value">$<span id="main-balance">0.00000</span></div>
    </header>

    <main>
        <div class="fan-container">
            <div class="fan-blade-wrapper">
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
            </div>
            <div class="fan-center"><img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" width="25"></div>
        </div>

        <div class="mining-info">
            <div id="pool-balance" class="pool-amount">0.000000 USDT</div>
            <div class="ghs">Current Speed: 2.03 GH/s âš¡</div>
        </div>

        <div class="btn-group">
            <button class="btn btn-claim" onclick="handleClaim()">ğŸ’° Claim</button>
            <button class="btn btn-boost" onclick="toggleBoost(true)">ğŸš€ Boost</button>
        </div>
    </main>

    <div id="boost-panel">
        <div class="close-boost" onclick="toggleBoost(false)">KAPAT âœ–</div>
        <h3 style="text-align: center; margin-bottom: 5px;">HÄ±zlandÄ±rma MaÄŸazasÄ±</h3>
        <p style="text-align: center; font-size: 11px; color: #888;">Mining hÄ±zÄ±nÄ± artÄ±rmak iÃ§in birini seÃ§in</p>
        <div class="boost-grid">
            <div class="boost-item">ğŸŒ€ <b>Fan v2</b><br><small>HÄ±z: +1.5x</small></div>
            <div class="boost-item">âš¡ <b>Turbo Åarj</b><br><small>HÄ±z: +2.0x</small></div>
            <div class="boost-item">ğŸ”‹ <b>Ekstra Pil</b><br><small>HÄ±z: +1.2x</small></div>
            <div class="boost-item">ğŸ’ <b>Elmas Mil</b><br><small>HÄ±z: +3.0x</small></div>
            <div class="boost-item" style="grid-column: span 2;">ğŸ”¥ <b>OVERCLOCK</b><br><small>Maksimum Performans</small></div>
        </div>
    </div>

    <div id="ad-modal">
        <h2 style="color: var(--primary-blue);">Claim HazÄ±rlanÄ±yor...</h2>
        <p style="margin: 20px 0;">HasÄ±latÄ± almak iÃ§in reklamÄ± izleyip geri gelin.</p>
        <div id="ad-status" style="font-size: 20px; font-weight: bold;"></div>
        <p style="font-size: 12px; color: #777; margin-top: 20px;">Reklam aÃ§Ä±lmazsa sayfayÄ± yenileyin.</p>
    </div>

    <nav class="nav-bar">
        <div class="nav-item"><div>ğŸ¦</div>Wallet</div>
        <div class="nav-item"><div>ğŸ‘¥</div>Friends</div>
        <div class="nav-item active"><div>ğŸŒ€</div>Home</div>
        <div class="nav-item"><div>ğŸ¯</div>Missions</div>
        <div class="nav-item"><div>âš™ï¸</div>More</div>
    </nav>

    <script>
        const TWA = window.Telegram.WebApp;
        TWA.expand();

        let userData = {
            mainBalance: 0.0,
            pool: 0.0,
            miningRate: 0.00001 // Saniyede 0.00001 USDT
        };

        // OTOMATÄ°K MÄ°NÄ°NG
        setInterval(() => {
            userData.pool += userData.miningRate;
            document.getElementById('pool-balance').innerText = userData.pool.toFixed(6) + " USDT";
        }, 1000);

        // CLAIM Ä°ÅLEMÄ°
        function handleClaim() {
            // ÅART: 0.0001 olunca claim edebilir
            if (userData.pool < 0.0001) {
                TWA.showAlert("Claim edebilmek iÃ§in havuzda en az 0.0001 USDT birikmelidir!");
                return;
            }

            // Reklam SayÄ±sÄ± Hesaplama (Her 0.0005 iÃ§in 1 reklam)
            const adsRequired = Math.ceil(userData.pool / 0.0005);
            
            document.getElementById('ad-modal').style.display = 'flex';
            document.getElementById('ad-status').innerText = `Gereken Reklam: ${adsRequired}`;

            // ReklamÄ± tetikle (Ã–rnek yÃ¶nlendirme)
            setTimeout(() => {
                window.open("https://adexora.com/dl/REKLAM_LINKIN", "_blank");
                
                // SimÃ¼lasyon: KullanÄ±cÄ± reklamÄ± izleyip dÃ¶ndÃ¼ÄŸÃ¼nÃ¼ varsayÄ±yoruz
                // GerÃ§ekte window.onfocus ile kontrol edebilirsin.
                setTimeout(() => {
                    completeClaim();
                }, 3000);
            }, 1000);
        }

        function completeClaim() {
            userData.mainBalance += userData.pool;
            userData.pool = 0;
            
            document.getElementById('main-balance').innerText = userData.mainBalance.toFixed(5);
            document.getElementById('ad-modal').style.display = 'none';
            TWA.showAlert("BaÅŸarÄ±lÄ±! HasÄ±lat ana bakiyene eklendi.");
        }

        // BOOST PANEL KONTROLÃœ
        function toggleBoost(show) {
            document.getElementById('boost-panel').style.display = show ? 'block' : 'none';
            TWA.HapticFeedback.impactOccurred('medium');
        }
    </script>
</body>
</html>
