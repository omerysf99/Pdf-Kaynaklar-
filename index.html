<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tonix Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #0d141f;
            --card-bg: #16202e;
            --primary-blue: #4dafff;
            --text-main: #ffffff;
            --text-secondary: #8a99a8;
            --nav-bg: #111a27;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; margin: 0; padding: 0; }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        /* Sabit Header */
        .header-container {
            width: 100%;
            padding: 20px 20px 10px 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 100;
        }

        .balance-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid rgba(255,255,255,0.02);
        }

        .coin-info { display: flex; align-items: center; gap: 12px; }
        
        .coin-icon {
            width: 35px; height: 35px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: #0088cc;
        }

        .coin-details div:first-child { font-size: 11px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; }
        .coin-details div:last-child { font-size: 16px; font-weight: bold; margin-top: 2px; font-variant-numeric: tabular-nums; }

        .wallet-btn {
            background: #283b52;
            padding: 8px 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
        }

        /* Sayfa Yapƒ±sƒ± */
        .content-area { flex: 1; width: 100%; position: relative; }
        .page {
            position: absolute; width: 100%; height: 100%;
            display: none; flex-direction: column; align-items: center;
            padding: 20px; overflow-y: auto;
        }
        .active-page { display: flex; }

        /* HOME (G√∂rseldeki Gibi) */
        .mining-section { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .fan-container { position: relative; width: 240px; height: 240px; margin-bottom: 25px; }
        .fan-img { width: 100%; height: 100%; animation: rotateFan 3s linear infinite; filter: drop-shadow(0 0 20px rgba(77, 175, 255, 0.2)); }
        .fan-logo-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 45px; height: 45px; }
        @keyframes rotateFan { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .mining-status { text-align: center; }
        .pool-amount { font-size: 32px; font-weight: bold; font-variant-numeric: tabular-nums; letter-spacing: -0.5px; }
        .speed-badge { color: var(--text-secondary); font-size: 14px; margin-top: 5px; display: flex; align-items: center; gap: 5px; }

        /* Ortak Liste Tasarƒ±mƒ± (Wallet, Friends, Missions) */
        .list-item {
            width: 100%; background: var(--card-bg); border-radius: 16px;
            padding: 16px; margin-bottom: 12px; display: flex;
            justify-content: space-between; align-items: center;
        }
        .item-label { font-size: 14px; font-weight: bold; }
        .item-sub { font-size: 12px; color: var(--text-secondary); margin-top: 3px; }

        /* Butonlar */
        .action-container { width: 100%; padding: 0 20px 100px 20px; display: flex; gap: 12px; }
        .btn {
            flex: 1; padding: 15px; border-radius: 14px; border: none;
            font-size: 16px; font-weight: bold; display: flex;
            align-items: center; justify-content: center; gap: 8px;
            cursor: pointer; color: white; background: var(--primary-blue);
        }
        .btn-boost { background: #3d8cd1; }

        /* Navigasyon */
        .nav-bar {
            position: fixed; bottom: 0; width: 100%;
            background: var(--nav-bg); display: flex;
            justify-content: space-around; padding: 10px 0 25px 0;
            border-top: 1px solid rgba(255,255,255,0.05); z-index: 200;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center;
            gap: 4px; color: var(--text-secondary); font-size: 10px; flex: 1; cursor: pointer;
        }
        .nav-item.active { color: var(--primary-blue); }
        .nav-icon { font-size: 20px; }
        .active-indicator { background: rgba(77, 175, 255, 0.1); padding: 6px 16px; border-radius: 20px; margin-bottom: 2px; }
    </style>
</head>
<body onload="init()">

    <div class="header-container">
        <div class="balance-card">
            <div class="coin-info">
                <div class="coin-icon"><img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" width="18"></div>
                <div class="coin-details">
                    <div>Balance</div>
                    <div><span id="ton-bal">0.0000</span> TON</div>
                </div>
            </div>
            <div class="wallet-btn" onclick="openPage('wallet', this)">üëõ</div>
        </div>
        <div class="balance-card">
            <div class="coin-info">
                <div class="coin-icon" style="background: #1c2e4a;"><img src="https://i.ibb.co/3mNfWvX/fan-icon.png" width="22" style="border-radius: 50%;"></div>
                <div class="coin-details">
                    <div>Balance</div>
                    <div><span id="tonix-bal">5200</span> TONIX</div>
                </div>
            </div>
            <div class="wallet-btn">üëõ</div>
        </div>
    </div>

    <div class="content-area">
        <div id="home" class="page active-page">
            <div class="mining-section">
                <div class="fan-container">
                    <img src="https://i.ibb.co/3mNfWvX/fan-icon.png" class="fan-img">
                    <img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" class="fan-logo-center">
                </div>
                <div class="mining-status">
                    <div class="pool-amount" id="pool-val">0.0083779826</div>
                    <div class="speed-badge">2.03 GH/s <span style="color: #ffd700;">‚ö°</span></div>
                </div>
            </div>
            <div class="action-container">
                <button class="btn" onclick="claim()"><span>ü™ô</span> Claim</button>
                <button class="btn btn-boost" onclick="openPage('boost')"><span>üöÄ</span> Boost</button>
            </div>
        </div>

        <div id="wallet" class="page">
            <h2 style="margin-bottom:20px; align-self:flex-start">My Wallet</h2>
            <div class="list-item">
                <div><div class="item-label">Available TON</div><div class="item-sub">Withdrawal min: 1.0</div></div>
                <div class="item-label" id="w-ton">0.00</div>
            </div>
            <div class="list-item">
                <div><div class="item-label">TONIX Token</div><div class="item-sub">Locked for TGE</div></div>
                <div class="item-label" style="color:var(--primary-blue)">5200</div>
            </div>
        </div>

        <div id="friends" class="page">
            <h2 style="margin-bottom:20px; align-self:flex-start">Referrals</h2>
            <div class="list-item" style="flex-direction:column; align-items:flex-start; gap:10px">
                <div class="item-label">Invite Link</div>
                <div class="item-sub" style="word-break:break-all">t.me/tonix_bot?start=ref12345</div>
                <button class="btn" style="width:100%; padding:10px; font-size:12px">Copy Link</button>
            </div>
        </div>

        <div id="missions" class="page">
            <h2 style="margin-bottom:20px; align-self:flex-start">Tasks</h2>
            <div class="list-item">
                <div><div class="item-label">Join Channel</div><div class="item-sub">+500 TONIX</div></div>
                <div class="wallet-btn">GO</div>
            </div>
            <div class="list-item">
                <div><div class="item-label">Daily Check-in</div><div class="item-sub">+100 TONIX</div></div>
                <div class="wallet-btn">CLAIM</div>
            </div>
        </div>

        <div id="boost" class="page">
            <h2 style="margin-bottom:20px; align-self:flex-start">Boost Speed</h2>
            <div class="list-item">
                <div><div class="item-label">Watch Ad</div><div class="item-sub">+0.05 GH/s (24h)</div></div>
                <div class="wallet-btn" onclick="TWA.showAlert('Ads loading...')">PLAY</div>
            </div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item" onclick="openPage('wallet', this)">
            <div class="nav-icon">üìÅ</div><div>Wallet</div>
        </div>
        <div class="nav-item" onclick="openPage('friends', this)">
            <div class="nav-icon">üë•</div><div>Friends</div>
        </div>
        <div class="nav-item active" onclick="openPage('home', this)">
            <div class="active-indicator"><div class="nav-icon">üåÄ</div></div><div>Home</div>
        </div>
        <div class="nav-item" onclick="openPage('missions', this)">
            <div class="nav-icon">üéØ</div><div>Missions</div>
        </div>
        <div class="nav-item" onclick="openPage('boost', this)">
            <div class="nav-icon">‚öôÔ∏è</div><div>More</div>
        </div>
    </nav>

    <script>
        const TWA = window.Telegram.WebApp;
        let pool = 0.0083779826;
        let balance = 0.0000;

        function init() {
            TWA.expand();
            setInterval(() => {
                pool += 0.000000015;
                document.getElementById('pool-val').innerText = pool.toFixed(10);
            }, 1000);
        }

        function openPage(pageId, el) {
            TWA.HapticFeedback.selectionChanged();
            // Sayfa gizleme/g√∂sterme
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.getElementById(pageId).classList.add('active-page');
            
            // Navigasyon stili
            if(el) {
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                document.querySelectorAll('.active-indicator').forEach(i => i.remove());
                
                // Eƒüer nav butonuna tƒ±klandƒ±ysa indicator ekle
                if(el.classList.contains('nav-item')) {
                    el.classList.add('active');
                    const icon = el.querySelector('.nav-icon');
                    const ind = document.createElement('div');
                    ind.className = 'active-indicator';
                    el.insertBefore(ind, el.firstChild);
                    ind.appendChild(icon);
                }
            }
        }

        function claim() {
            TWA.HapticFeedback.impactOccurred('medium');
            balance += pool;
            pool = 0;
            document.getElementById('ton-bal').innerText = balance.toFixed(4);
            document.getElementById('w-ton').innerText = balance.toFixed(4);
            TWA.showAlert("Success! TON claimed.");
        }
    </script>
</body>
</html>
